<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://frccode.github.io/Learn/Chapter_5/differential_control/ rel=canonical><link href=../../Chapter_4/simple_profiling/ rel=prev><link href=../drive_bases/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>Differential (Tank) Drive Programming Guide - FRCCode.org</title><link rel=stylesheet href=../../../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/material.min.css><link rel=stylesheet href=../../../css/pid-simulator.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#differential-tank-drive-programming-guide class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=FRCCode.org class="md-header__button md-logo" aria-label=FRCCode.org data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> FRCCode.org </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Differential (Tank) Drive Programming Guide </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/frccode/frccode title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> frccode/frccode </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> FRCCode </a> </li> <li class=md-tabs__item> <a href=../../../support_and_help/ class=md-tabs__link> Support &amp; Help </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../Chapter_0/java_intro/ class=md-tabs__link> Learn </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=FRCCode.org class="md-nav__button md-logo" aria-label=FRCCode.org data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> FRCCode.org </label> <div class=md-nav__source> <a href=https://github.com/frccode/frccode title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> frccode/frccode </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> FRCCode </span> </a> </li> <li class=md-nav__item> <a href=../../../support_and_help/ class=md-nav__link> <span class=md-ellipsis> Support &amp; Help </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Learn </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Learn </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex> <span class=md-ellipsis> Chapter 0 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Chapter 0 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_0/java_intro/ class=md-nav__link> <span class=md-ellipsis> Introduction to Java in FRC Programming </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex> <span class=md-ellipsis> Chapter 1 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Chapter 1 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_1/1_prerequisites_intro/ class=md-nav__link> <span class=md-ellipsis> Prerequisites of FRC Programming </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_1/2_wpilib/ class=md-nav__link> <span class=md-ellipsis> WPIlib and Associated Tools </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_1/4_Version_Control_intro/ class=md-nav__link> <span class=md-ellipsis> Version Control Guide for FRC Teams </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex> <span class=md-ellipsis> Chapter 2 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Chapter 2 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_2/simple_robot_programming/ class=md-nav__link> <span class=md-ellipsis> An Intro Through Timed Robot </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex> <span class=md-ellipsis> Chapter 3 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Chapter 3 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_3/1_command_based_programming/ class=md-nav__link> <span class=md-ellipsis> Command-Based Robot Programming Guide </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex> <span class=md-ellipsis> Chapter 4 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Chapter 4 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_4/PID/ class=md-nav__link> <span class=md-ellipsis> PID Control </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_4/simple_profiling/ class=md-nav__link> <span class=md-ellipsis> Motion Profiling: Getting Started </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6 checked> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex> <span class=md-ellipsis> Chapter 5 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=true> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Chapter 5 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Differential (Tank) Drive Programming Guide </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Differential (Tank) Drive Programming Guide </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#table-of-contents class=md-nav__link> <span class=md-ellipsis> Table of Contents </span> </a> </li> <li class=md-nav__item> <a href=#1-introduction class=md-nav__link> <span class=md-ellipsis> 1. Introduction </span> </a> </li> <li class=md-nav__item> <a href=#2-core-concepts class=md-nav__link> <span class=md-ellipsis> 2. Core Concepts </span> </a> <nav class=md-nav aria-label="2. Core Concepts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#control-definitions class=md-nav__link> <span class=md-ellipsis> Control Definitions </span> </a> </li> <li class=md-nav__item> <a href=#key-components class=md-nav__link> <span class=md-ellipsis> Key Components </span> </a> </li> <li class=md-nav__item> <a href=#key-classes-in-wpilib class=md-nav__link> <span class=md-ellipsis> Key Classes in WPILIB </span> </a> <nav class=md-nav aria-label="Key Classes in WPILIB"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#differentialdrive class=md-nav__link> <span class=md-ellipsis> DifferentialDrive </span> </a> </li> <li class=md-nav__item> <a href=#chassisspeeds class=md-nav__link> <span class=md-ellipsis> ChassisSpeeds </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-mathematical-foundation class=md-nav__link> <span class=md-ellipsis> 3. Mathematical Foundation </span> </a> <nav class=md-nav aria-label="3. Mathematical Foundation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#kinematics class=md-nav__link> <span class=md-ellipsis> Kinematics </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-control-systems class=md-nav__link> <span class=md-ellipsis> 4. Control Systems </span> </a> <nav class=md-nav aria-label="4. Control Systems"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#speed-control class=md-nav__link> <span class=md-ellipsis> Speed Control </span> </a> </li> <li class=md-nav__item> <a href=#arcade-vs-tank-drive class=md-nav__link> <span class=md-ellipsis> Arcade vs. Tank Drive </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5-coordinate-systems class=md-nav__link> <span class=md-ellipsis> 5. Coordinate Systems </span> </a> </li> <li class=md-nav__item> <a href=#6-implementation-guide class=md-nav__link> <span class=md-ellipsis> 6. Implementation Guide </span> </a> <nav class=md-nav aria-label="6. Implementation Guide"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#step-1-create-your-tank-drive-subsystem class=md-nav__link> <span class=md-ellipsis> Step 1: Create Your Tank Drive Subsystem </span> </a> </li> <li class=md-nav__item> <a href=#step-2-implement-a-teleop-command class=md-nav__link> <span class=md-ellipsis> Step 2: Implement a Teleop Command </span> </a> </li> <li class=md-nav__item> <a href=#step-3-integrate-into class=md-nav__link> <span class=md-ellipsis> Step 3: Integrate into </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#7-extra-features class=md-nav__link> <span class=md-ellipsis> 7. Extra Features </span> </a> <nav class=md-nav aria-label="7. Extra Features"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#encoder-distance-calculation class=md-nav__link> <span class=md-ellipsis> Encoder Distance Calculation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#8-troubleshooting-and-possible-fixes class=md-nav__link> <span class=md-ellipsis> 8. Troubleshooting and Possible Fixes </span> </a> </li> <li class=md-nav__item> <a href=#9-additional-resources class=md-nav__link> <span class=md-ellipsis> 9. Additional Resources </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../drive_bases/ class=md-nav__link> <span class=md-ellipsis> Drive Base in FRC Programming </span> </a> </li> <li class=md-nav__item> <a href=../simple_trajectories/ class=md-nav__link> <span class=md-ellipsis> Swerve Trajectory: Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../swerve_control/ class=md-nav__link> <span class=md-ellipsis> Swerve Drive Programming Guide </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_7> <label class=md-nav__link for=__nav_3_7 id=__nav_3_7_label tabindex> <span class=md-ellipsis> Chapter 6 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> Chapter 6 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_6/auto_strategy/ class=md-nav__link> <span class=md-ellipsis> FRC Autonomous Programming - Strategy and Planning </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_6/extrainfoPuttingelsewhere/ class=md-nav__link> <span class=md-ellipsis> extrainfoPuttingelsewhere </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_6/writing_autos/ class=md-nav__link> <span class=md-ellipsis> FRC Autonomous Programming - Technical Implementation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_8> <label class=md-nav__link for=__nav_3_8 id=__nav_3_8_label tabindex> <span class=md-ellipsis> Chapter 7 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> Chapter 7 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_7/logging_intro/ class=md-nav__link> <span class=md-ellipsis> Logging intro </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_9> <label class=md-nav__link for=__nav_3_9 id=__nav_3_9_label tabindex> <span class=md-ellipsis> Chapter 8 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_9_label aria-expanded=false> <label class=md-nav__title for=__nav_3_9> <span class="md-nav__icon md-icon"></span> Chapter 8 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_8/apriltag_processing/ class=md-nav__link> <span class=md-ellipsis> AprilTag Processing: Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_8/pose_estimators_and_kalman_filters/ class=md-nav__link> <span class=md-ellipsis> Kalman Filters &amp; Pose Estimation: Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_8/vision_explanation/ class=md-nav__link> <span class=md-ellipsis> Vision Processing: Getting Started </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#table-of-contents class=md-nav__link> <span class=md-ellipsis> Table of Contents </span> </a> </li> <li class=md-nav__item> <a href=#1-introduction class=md-nav__link> <span class=md-ellipsis> 1. Introduction </span> </a> </li> <li class=md-nav__item> <a href=#2-core-concepts class=md-nav__link> <span class=md-ellipsis> 2. Core Concepts </span> </a> <nav class=md-nav aria-label="2. Core Concepts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#control-definitions class=md-nav__link> <span class=md-ellipsis> Control Definitions </span> </a> </li> <li class=md-nav__item> <a href=#key-components class=md-nav__link> <span class=md-ellipsis> Key Components </span> </a> </li> <li class=md-nav__item> <a href=#key-classes-in-wpilib class=md-nav__link> <span class=md-ellipsis> Key Classes in WPILIB </span> </a> <nav class=md-nav aria-label="Key Classes in WPILIB"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#differentialdrive class=md-nav__link> <span class=md-ellipsis> DifferentialDrive </span> </a> </li> <li class=md-nav__item> <a href=#chassisspeeds class=md-nav__link> <span class=md-ellipsis> ChassisSpeeds </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-mathematical-foundation class=md-nav__link> <span class=md-ellipsis> 3. Mathematical Foundation </span> </a> <nav class=md-nav aria-label="3. Mathematical Foundation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#kinematics class=md-nav__link> <span class=md-ellipsis> Kinematics </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-control-systems class=md-nav__link> <span class=md-ellipsis> 4. Control Systems </span> </a> <nav class=md-nav aria-label="4. Control Systems"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#speed-control class=md-nav__link> <span class=md-ellipsis> Speed Control </span> </a> </li> <li class=md-nav__item> <a href=#arcade-vs-tank-drive class=md-nav__link> <span class=md-ellipsis> Arcade vs. Tank Drive </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5-coordinate-systems class=md-nav__link> <span class=md-ellipsis> 5. Coordinate Systems </span> </a> </li> <li class=md-nav__item> <a href=#6-implementation-guide class=md-nav__link> <span class=md-ellipsis> 6. Implementation Guide </span> </a> <nav class=md-nav aria-label="6. Implementation Guide"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#step-1-create-your-tank-drive-subsystem class=md-nav__link> <span class=md-ellipsis> Step 1: Create Your Tank Drive Subsystem </span> </a> </li> <li class=md-nav__item> <a href=#step-2-implement-a-teleop-command class=md-nav__link> <span class=md-ellipsis> Step 2: Implement a Teleop Command </span> </a> </li> <li class=md-nav__item> <a href=#step-3-integrate-into class=md-nav__link> <span class=md-ellipsis> Step 3: Integrate into </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#7-extra-features class=md-nav__link> <span class=md-ellipsis> 7. Extra Features </span> </a> <nav class=md-nav aria-label="7. Extra Features"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#encoder-distance-calculation class=md-nav__link> <span class=md-ellipsis> Encoder Distance Calculation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#8-troubleshooting-and-possible-fixes class=md-nav__link> <span class=md-ellipsis> 8. Troubleshooting and Possible Fixes </span> </a> </li> <li class=md-nav__item> <a href=#9-additional-resources class=md-nav__link> <span class=md-ellipsis> 9. Additional Resources </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=differential-tank-drive-programming-guide>Differential (Tank) Drive Programming Guide<a class=headerlink href=#differential-tank-drive-programming-guide title="Permanent link">&para;</a></h1> <h2 id=table-of-contents>Table of Contents<a class=headerlink href=#table-of-contents title="Permanent link">&para;</a></h2> <ol> <li><a href=#introduction>Introduction</a></li> <li><a href=#core-concepts>Core Concepts</a></li> <li><a href=#mathematical-foundation>Mathematical Foundation</a></li> <li><a href=#additional-control-concepts>Additional Control Concepts</a></li> <li><a href=#coordinate-systems>Coordinate Systems</a></li> <li><a href=#implementation-guide>Implementation Guide</a></li> <li><a href=#troubleshooting>Troubleshooting</a></li> <li><a href=#additional-resources>Additional Resources</a></li> </ol> <h2 id=1-introduction>1. Introduction<a class=headerlink href=#1-introduction title="Permanent link">&para;</a></h2> <p>This guide covers the programming concepts needed to implement a differential (tank) drive system using WPILIB. Understanding how joystick inputs are translated into motor commands will help you debug common programming issues.</p> <blockquote> <p><strong>Note:</strong> While WPILIB provides high-level abstractions for tank drive, learning the underlying principles will give you more control and flexibility in your robot code.</p> </blockquote> <p><strong>What You'll Learn:</strong> - Fundamental tank drive concepts - Mathematical principles behind tank drive kinematics - WPILIB implementation details - Best practices for control systems - Common pitfalls and solutions</p> <h2 id=2-core-concepts>2. Core Concepts<a class=headerlink href=#2-core-concepts title="Permanent link">&para;</a></h2> <p>Below are some common terms associated with differential (tank) drive:</p> <h3 id=control-definitions>Control Definitions<a class=headerlink href=#control-definitions title="Permanent link">&para;</a></h3> <ul> <li> <p><strong>Differential (Tank) Drive</strong></p> <ul> <li>Two sets of wheels (left and right) powered independently</li> <li>Robot turns by varying speed between sides</li> <li>Simple, robust, and widely used in FRC</li> </ul> </li> <li> <p><strong>Teleop Control</strong></p> <ul> <li>Direct driver control via joysticks or tank controls</li> <li>Real-time response to input</li> </ul> </li> </ul> <h3 id=key-components>Key Components<a class=headerlink href=#key-components title="Permanent link">&para;</a></h3> <ul> <li><strong>Left Motors</strong>: Drive the left side</li> <li><strong>Right Motors</strong>: Drive the right side</li> <li><strong>Encoders</strong>: Measure wheel rotation for distance/speed</li> <li><strong>Gyro</strong>: Measures robot heading (optional but recommended)</li> </ul> <h3 id=key-classes-in-wpilib>Key Classes in WPILIB<a class=headerlink href=#key-classes-in-wpilib title="Permanent link">&para;</a></h3> <h4 id=differentialdrive><strong>DifferentialDrive</strong><a class=headerlink href=#differentialdrive title="Permanent link">&para;</a></h4> <p>Controls left and right motors for tank drive.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>DifferentialDrive</span><span class=w> </span><span class=n>drive</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>DifferentialDrive</span><span class=p>(</span><span class=n>leftMotor</span><span class=p>,</span><span class=w> </span><span class=n>rightMotor</span><span class=p>);</span>
</code></pre></div> <h4 id=chassisspeeds><strong>ChassisSpeeds</strong><a class=headerlink href=#chassisspeeds title="Permanent link">&para;</a></h4> <p>Represents the desired movement of the robot as a whole.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>ChassisSpeeds</span><span class=w> </span><span class=n>chassisSpeeds</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ChassisSpeeds</span><span class=p>(</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>    </span><span class=n>xVelocity</span><span class=p>,</span><span class=w>    </span><span class=c1>// Forward/backward speed (m/s)</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>          </span><span class=c1>// No strafe for tank drive</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=n>omegaVelocity</span><span class=w> </span><span class=c1>// Rotational speed (rad/s)</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=p>);</span>
</code></pre></div> <h2 id=3-mathematical-foundation>3. Mathematical Foundation<a class=headerlink href=#3-mathematical-foundation title="Permanent link">&para;</a></h2> <h3 id=kinematics>Kinematics<a class=headerlink href=#kinematics title="Permanent link">&para;</a></h3> <p>In the context of FRC drives, <strong>kinematics</strong> refers to the mathematical relationships that describe how the robot's wheel speeds translate to its overall movement (position, velocity, and rotation) on the field, and vice versa. For differential (tank) drive systems, kinematics allows you to:</p> <ul> <li>Determine the robot's forward and rotational velocities based on the speeds of the left and right wheels (forward kinematics).</li> <li>Calculate the required wheel speeds to achieve a desired robot motion (inverse kinematics).</li> </ul> <p>Understanding kinematics is essential for tasks such as autonomous path following, odometry, and precise control of the robot's movement.</p> <p><strong>Tank drive kinematics relate left/right wheel speeds to robot motion.</strong></p> <p><strong>Forward Kinematics:</strong> - Calculate robot velocity from left/right wheel speeds</p> <p><strong>Inverse Kinematics:</strong> - Calculate left/right wheel speeds from desired robot velocity</p> <p><strong>Formulas:</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>v_left = v - ω * (trackwidth / 2)
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>v_right = v + ω * (trackwidth / 2)
</code></pre></div> Where: - <code>v</code> = Forward velocity (m/s) - <code>ω</code> = Angular velocity (rad/s) - <code>trackwidth</code> = Distance between left and right wheels (meters)</p> <h2 id=4-control-systems>4. Control Systems<a class=headerlink href=#4-control-systems title="Permanent link">&para;</a></h2> <h3 id=speed-control>Speed Control<a class=headerlink href=#speed-control title="Permanent link">&para;</a></h3> <p>Use PID control for precise velocity control of each side. Place this code within your drive subsystem periodic loop: <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=kt>double</span><span class=w> </span><span class=n>leftOutput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>leftPID</span><span class=p>.</span><span class=na>calculate</span><span class=p>(</span><span class=n>currentLeftSpeed</span><span class=p>,</span><span class=w> </span><span class=n>targetLeftSpeed</span><span class=p>);</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=kt>double</span><span class=w> </span><span class=n>rightOutput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rightPID</span><span class=p>.</span><span class=na>calculate</span><span class=p>(</span><span class=n>currentRightSpeed</span><span class=p>,</span><span class=w> </span><span class=n>targetRightSpeed</span><span class=p>);</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=n>leftMotor</span><span class=p>.</span><span class=na>setVoltage</span><span class=p>(</span><span class=n>leftOutput</span><span class=p>);</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=n>rightMotor</span><span class=p>.</span><span class=na>setVoltage</span><span class=p>(</span><span class=n>rightOutput</span><span class=p>);</span>
</code></pre></div></p> <h3 id=arcade-vs-tank-drive>Arcade vs. Tank Drive<a class=headerlink href=#arcade-vs-tank-drive title="Permanent link">&para;</a></h3> <ul> <li><strong>Tank Drive</strong>: Separate joystick for each side</li> <li><strong>Arcade Drive</strong>: One joystick for forward/backward, one for turning</li> </ul> <p><strong>Arcade Drive Example:</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>drive</span><span class=p>.</span><span class=na>arcadeDrive</span><span class=p>(</span><span class=n>forward</span><span class=p>,</span><span class=w> </span><span class=n>rotation</span><span class=p>);</span>
</code></pre></div></p> <p><strong>Tank Drive Example:</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=n>drive</span><span class=p>.</span><span class=na>tankDrive</span><span class=p>(</span><span class=n>leftSpeed</span><span class=p>,</span><span class=w> </span><span class=n>rightSpeed</span><span class=p>);</span>
</code></pre></div></p> <h2 id=5-coordinate-systems>5. Coordinate Systems<a class=headerlink href=#5-coordinate-systems title="Permanent link">&para;</a></h2> <p>WPILIB uses the same coordinate system as swerve drive. Consistency is important for autonomous routines and sensor integration.</p> <h2 id=6-implementation-guide>6. Implementation Guide<a class=headerlink href=#6-implementation-guide title="Permanent link">&para;</a></h2> <p>Below is a step-by-step guide for implementing a basic differential (tank) drive subsystem and teleop command.</p> <h3 id=step-1-create-your-tank-drive-subsystem>Step 1: Create Your Tank Drive Subsystem<a class=headerlink href=#step-1-create-your-tank-drive-subsystem title="Permanent link">&para;</a></h3> <p>Start by building a subsystem class to encapsulate all hardware and drive logic. This class should manage the motors, encoders, and gyro, and provide a method to drive the robot.</p> <p><strong>Key Features:</strong> - Holds references to motors, encoders, and gyro - Provides a <code>drive</code> method for controlling movement - Initializes all hardware in the constructor</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>TankDrive</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>SubsystemBase</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>DifferentialDrive</span><span class=w> </span><span class=n>drive</span><span class=p>;</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>MotorController</span><span class=w> </span><span class=n>leftMotor</span><span class=p>;</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>MotorController</span><span class=w> </span><span class=n>rightMotor</span><span class=p>;</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>Encoder</span><span class=w> </span><span class=n>leftEncoder</span><span class=p>;</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>Encoder</span><span class=w> </span><span class=n>rightEncoder</span><span class=p>;</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>Gyro</span><span class=w> </span><span class=n>gyro</span><span class=p>;</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>TankDrive</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=w>        </span><span class=c1>// Initialize motors, encoders, and gyro</span>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=w>        </span><span class=n>drive</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>DifferentialDrive</span><span class=p>(</span><span class=n>leftMotor</span><span class=p>,</span><span class=w> </span><span class=n>rightMotor</span><span class=p>);</span>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>
<a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>drive</span><span class=p>(</span><span class=kt>double</span><span class=w> </span><span class=n>forward</span><span class=p>,</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>rotation</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a><span class=w>        </span><span class=n>drive</span><span class=p>.</span><span class=na>arcadeDrive</span><span class=p>(</span><span class=n>forward</span><span class=p>,</span><span class=w> </span><span class=n>rotation</span><span class=p>);</span>
<a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=p>}</span>
</code></pre></div> <h3 id=step-2-implement-a-teleop-command>Step 2: Implement a Teleop Command<a class=headerlink href=#step-2-implement-a-teleop-command title="Permanent link">&para;</a></h3> <p>Create a command class to handle teleoperated driving. This command reads joystick values using suppliers, applies a deadband for smoother control, and calls the drive method.</p> <p><strong>Key Steps:</strong> - Accepts suppliers for forward and rotation input - Applies deadband to filter out small joystick noise - Calls the subsystem's drive method each cycle</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>TeleopTankCommand</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>CommandBase</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>TankDrive</span><span class=w> </span><span class=n>tankDrive</span><span class=p>;</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>Supplier</span><span class=o>&lt;</span><span class=n>Double</span><span class=o>&gt;</span><span class=w> </span><span class=n>forwardSupplier</span><span class=p>;</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>Supplier</span><span class=o>&lt;</span><span class=n>Double</span><span class=o>&gt;</span><span class=w> </span><span class=n>rotationSupplier</span><span class=p>;</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>TeleopTankCommand</span><span class=p>(</span>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>        </span><span class=n>TankDrive</span><span class=w> </span><span class=n>tankDrive</span><span class=p>,</span>
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>        </span><span class=n>Supplier</span><span class=o>&lt;</span><span class=n>Double</span><span class=o>&gt;</span><span class=w> </span><span class=n>forwardSupplier</span><span class=p>,</span>
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>        </span><span class=n>Supplier</span><span class=o>&lt;</span><span class=n>Double</span><span class=o>&gt;</span><span class=w> </span><span class=n>rotationSupplier</span>
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=w>    </span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>tankDrive</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tankDrive</span><span class=p>;</span>
<a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>forwardSupplier</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>forwardSupplier</span><span class=p>;</span>
<a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=w>        </span><span class=k>this</span><span class=p>.</span><span class=na>rotationSupplier</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>rotationSupplier</span><span class=p>;</span>
<a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a><span class=w>        </span><span class=n>addRequirements</span><span class=p>(</span><span class=n>tankDrive</span><span class=p>);</span>
<a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a>
<a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a><span class=w>    </span><span class=nd>@Override</span>
<a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>execute</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a><span class=w>        </span><span class=kt>double</span><span class=w> </span><span class=n>forward</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>MathUtil</span><span class=p>.</span><span class=na>applyDeadband</span><span class=p>(</span><span class=n>forwardSupplier</span><span class=p>.</span><span class=na>get</span><span class=p>(),</span><span class=w> </span><span class=mf>0.1</span><span class=p>);</span>
<a id=__codelineno-7-20 name=__codelineno-7-20 href=#__codelineno-7-20></a><span class=w>        </span><span class=kt>double</span><span class=w> </span><span class=n>rotation</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>MathUtil</span><span class=p>.</span><span class=na>applyDeadband</span><span class=p>(</span><span class=n>rotationSupplier</span><span class=p>.</span><span class=na>get</span><span class=p>(),</span><span class=w> </span><span class=mf>0.1</span><span class=p>);</span>
<a id=__codelineno-7-21 name=__codelineno-7-21 href=#__codelineno-7-21></a><span class=w>        </span><span class=n>tankDrive</span><span class=p>.</span><span class=na>drive</span><span class=p>(</span><span class=n>forward</span><span class=p>,</span><span class=w> </span><span class=n>rotation</span><span class=p>);</span>
<a id=__codelineno-7-22 name=__codelineno-7-22 href=#__codelineno-7-22></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-7-23 name=__codelineno-7-23 href=#__codelineno-7-23></a><span class=p>}</span>
</code></pre></div> <h3 id=step-3-integrate-into>Step 3: Integrate into<a class=headerlink href=#step-3-integrate-into title="Permanent link">&para;</a></h3> <p>Set up your subsystem and command in <code>RobotContainer</code> to enable teleop driving. Use suppliers to connect joystick axes to your command.</p> <p><strong>Key Steps:</strong> - Instantiate the subsystem and controller - Set the teleop command as the default for the subsystem - Use lambda expressions to supply joystick values</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>RobotContainer</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>TankDrive</span><span class=w> </span><span class=n>tankDrive</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>TankDrive</span><span class=p>();</span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>    </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>CommandXboxController</span><span class=w> </span><span class=n>driverController</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>CommandXboxController</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=nf>RobotContainer</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>        </span><span class=c1>// Set the default command for teleop driving</span>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=w>        </span><span class=n>tankDrive</span><span class=p>.</span><span class=na>setDefaultCommand</span><span class=p>(</span>
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=w>            </span><span class=k>new</span><span class=w> </span><span class=n>TeleopTankCommand</span><span class=p>(</span>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=w>                </span><span class=n>tankDrive</span><span class=p>,</span>
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=w>                </span><span class=p>()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=o>-</span><span class=n>driverController</span><span class=p>.</span><span class=na>getLeftY</span><span class=p>(),</span>
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=w>                </span><span class=p>()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=o>-</span><span class=n>driverController</span><span class=p>.</span><span class=na>getRightX</span><span class=p>()</span>
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=w>            </span><span class=p>)</span>
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a><span class=w>        </span><span class=p>);</span>
<a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=p>}</span>
</code></pre></div> <h2 id=7-extra-features>7. Extra Features<a class=headerlink href=#7-extra-features title="Permanent link">&para;</a></h2> <h3 id=encoder-distance-calculation>Encoder Distance Calculation<a class=headerlink href=#encoder-distance-calculation title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1>// Returns distance in meters</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=kd>public</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=nf>getLeftDistance</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>leftEncoder</span><span class=p>.</span><span class=na>getDistance</span><span class=p>();</span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=p>}</span>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=kd>public</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=nf>getRightDistance</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>rightEncoder</span><span class=p>.</span><span class=na>getDistance</span><span class=p>();</span>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=p>}</span>
</code></pre></div> <h2 id=8-troubleshooting-and-possible-fixes>8. Troubleshooting and Possible Fixes<a class=headerlink href=#8-troubleshooting-and-possible-fixes title="Permanent link">&para;</a></h2> <p><strong>Robot Drifts or Turns Unexpectedly</strong> - Verify encoder and gyro readings</p> <p><strong>Inaccurate Distance or Heading</strong> - Ensure encoder conversion factors/instantiations are correct</p> <p><strong>Jerky or Unstable Movement</strong> - Add input deadbands - Add 0.5 or 0.2 scale factors to decrease "sensitivity"</p> <h2 id=9-additional-resources>9. Additional Resources<a class=headerlink href=#9-additional-resources title="Permanent link">&para;</a></h2> <ul> <li><a href=https://docs.wpilib.org/en/stable/docs/software/hardware-apis/motors/wpi-drive-classes.html>WPILIB Differential Drive Documentation</a></li> <li><a href=https://docs.wpilib.org/en/stable/docs/software/kinematics-and-odometry/differential-drive-odometry.html>WPILIB Odometry</a></li> <li><a href=https://github.com/wpilibsuite/allwpilib/tree/main/wpilibjExamples/src/main/java/edu/wpi/first/wpilibj/examples/differentialdrivebot>FRC Tank Drive Examples</a></li> </ul> <hr> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 6, 2025 13:17:30 UTC">August 6, 2025</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 6, 2025 13:17:30 UTC">August 6, 2025</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href=... target=_blank rel=noopener>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.top", "navigation.sections", "navigation.expand", "navigation.tracking"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js></script> <script src=../../../js/pid-simulator.js></script> </body> </html>