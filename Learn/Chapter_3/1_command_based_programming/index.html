<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://frccode.github.io/Learn/Chapter_3/1_command_based_programming/ rel=canonical><link href=../../Chapter_2/simple_robot_programming/ rel=prev><link href=../../Chapter_4/PID/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>Command-Based Robot Programming Guide - FRCCode.org</title><link rel=stylesheet href=../../../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/material.min.css><link rel=stylesheet href=../../../css/pid-simulator.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#command-based-robot-programming-guide class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=FRCCode.org class="md-header__button md-logo" aria-label=FRCCode.org data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> FRCCode.org </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Command-Based Robot Programming Guide </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/frccode/frccode title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> frccode/frccode </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> FRCCode </a> </li> <li class=md-tabs__item> <a href=../../../support_and_help/ class=md-tabs__link> Support &amp; Help </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../Chapter_0/java_intro/ class=md-tabs__link> Learn </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=FRCCode.org class="md-nav__button md-logo" aria-label=FRCCode.org data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> FRCCode.org </label> <div class=md-nav__source> <a href=https://github.com/frccode/frccode title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> frccode/frccode </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> FRCCode </span> </a> </li> <li class=md-nav__item> <a href=../../../support_and_help/ class=md-nav__link> <span class=md-ellipsis> Support &amp; Help </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Learn </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Learn </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex> <span class=md-ellipsis> Chapter 0 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Chapter 0 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_0/java_intro/ class=md-nav__link> <span class=md-ellipsis> Introduction to Java in FRC Programming </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex> <span class=md-ellipsis> Chapter 1 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Chapter 1 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_1/1_prerequisites_intro/ class=md-nav__link> <span class=md-ellipsis> Prerequisites of FRC Programming </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_1/2_wpilib/ class=md-nav__link> <span class=md-ellipsis> WPIlib and Associated Tools </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_1/4_Version_Control_intro/ class=md-nav__link> <span class=md-ellipsis> Version Control Guide for FRC Teams </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex> <span class=md-ellipsis> Chapter 2 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Chapter 2 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_2/simple_robot_programming/ class=md-nav__link> <span class=md-ellipsis> An Intro Through Timed Robot </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4 checked> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex> <span class=md-ellipsis> Chapter 3 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=true> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Chapter 3 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Command-Based Robot Programming Guide </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Command-Based Robot Programming Guide </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1-understanding-command-based-programming class=md-nav__link> <span class=md-ellipsis> 1. Understanding Command-Based Programming </span> </a> <nav class=md-nav aria-label="1. Understanding Command-Based Programming"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-is-command-based-programming class=md-nav__link> <span class=md-ellipsis> What is Command-Based Programming? </span> </a> </li> <li class=md-nav__item> <a href=#why-use-command-based-programming class=md-nav__link> <span class=md-ellipsis> Why Use Command-Based Programming? </span> </a> </li> <li class=md-nav__item> <a href=#key-concepts class=md-nav__link> <span class=md-ellipsis> Key Concepts </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-setting-up-your-project-structure class=md-nav__link> <span class=md-ellipsis> 2. Setting Up Your Project Structure </span> </a> <nav class=md-nav aria-label="2. Setting Up Your Project Structure"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-a-command-based-project class=md-nav__link> <span class=md-ellipsis> Creating a Command-Based Project </span> </a> </li> <li class=md-nav__item> <a href=#project-structure-overview class=md-nav__link> <span class=md-ellipsis> Project Structure Overview </span> </a> </li> <li class=md-nav__item> <a href=#key-files-explained class=md-nav__link> <span class=md-ellipsis> Key Files Explained </span> </a> </li> <li class=md-nav__item> <a href=#reference-material class=md-nav__link> <span class=md-ellipsis> Reference material </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-setting-up-a-subsystem class=md-nav__link> <span class=md-ellipsis> 3. Setting up a Subsystem </span> </a> <nav class=md-nav aria-label="3. Setting up a Subsystem"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-are-subsystems class=md-nav__link> <span class=md-ellipsis> What Are Subsystems? </span> </a> </li> <li class=md-nav__item> <a href=#create-a-subsystem class=md-nav__link> <span class=md-ellipsis> Create a Subsystem </span> </a> </li> <li class=md-nav__item> <a href=#subsystem-best-practices class=md-nav__link> <span class=md-ellipsis> Subsystem Best Practices </span> </a> </li> <li class=md-nav__item> <a href=#reference-material_1 class=md-nav__link> <span class=md-ellipsis> Reference material </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-setting-up-commands class=md-nav__link> <span class=md-ellipsis> 4. Setting up Commands </span> </a> <nav class=md-nav aria-label="4. Setting up Commands"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-are-commands class=md-nav__link> <span class=md-ellipsis> What Are Commands? </span> </a> </li> <li class=md-nav__item> <a href=#command-lifecycle class=md-nav__link> <span class=md-ellipsis> Command Lifecycle </span> </a> </li> <li class=md-nav__item> <a href=#using-built-in-command-types class=md-nav__link> <span class=md-ellipsis> Using Built-in Command Types </span> </a> </li> <li class=md-nav__item> <a href=#common-command-types-and-when-to-use-them class=md-nav__link> <span class=md-ellipsis> Common Command Types and When to Use Them </span> </a> <nav class=md-nav aria-label="Common Command Types and When to Use Them"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#summary-table class=md-nav__link> <span class=md-ellipsis> Summary Table </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#reference-material_2 class=md-nav__link> <span class=md-ellipsis> Reference Material </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5-chaining-commands-in-command-compositions class=md-nav__link> <span class=md-ellipsis> 5. Chaining Commands in Command Compositions </span> </a> <nav class=md-nav aria-label="5. Chaining Commands in Command Compositions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#building-complex-commands class=md-nav__link> <span class=md-ellipsis> Building Complex Commands </span> </a> </li> <li class=md-nav__item> <a href=#sequential-commands class=md-nav__link> <span class=md-ellipsis> Sequential Commands </span> </a> </li> <li class=md-nav__item> <a href=#parallel-commands class=md-nav__link> <span class=md-ellipsis> Parallel Commands </span> </a> </li> <li class=md-nav__item> <a href=#other-command-compositions class=md-nav__link> <span class=md-ellipsis> Other Command Compositions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#6-setting-up-robotcontainer class=md-nav__link> <span class=md-ellipsis> 6. Setting Up RobotContainer </span> </a> <nav class=md-nav aria-label="6. Setting Up RobotContainer"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#the-robotcontainer-class class=md-nav__link> <span class=md-ellipsis> The RobotContainer Class </span> </a> </li> <li class=md-nav__item> <a href=#basic-robotcontainer-structure class=md-nav__link> <span class=md-ellipsis> Basic RobotContainer Structure </span> </a> </li> <li class=md-nav__item> <a href=#reference-material_3 class=md-nav__link> <span class=md-ellipsis> Reference material </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#7-binding-commands-to-triggers class=md-nav__link> <span class=md-ellipsis> 7. Binding Commands to Triggers </span> </a> <nav class=md-nav aria-label="7. Binding Commands to Triggers"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#understanding-triggers class=md-nav__link> <span class=md-ellipsis> Understanding Triggers </span> </a> </li> <li class=md-nav__item> <a href=#button-bindings class=md-nav__link> <span class=md-ellipsis> Button Bindings </span> </a> </li> <li class=md-nav__item> <a href=#trigger-conditions class=md-nav__link> <span class=md-ellipsis> Trigger Conditions </span> </a> </li> <li class=md-nav__item> <a href=#reference-material_4 class=md-nav__link> <span class=md-ellipsis> Reference material </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#8-the-command-scheduler class=md-nav__link> <span class=md-ellipsis> 8. The Command Scheduler </span> </a> <nav class=md-nav aria-label="8. The Command Scheduler"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#how-the-scheduler-works class=md-nav__link> <span class=md-ellipsis> How the Scheduler Works </span> </a> </li> <li class=md-nav__item> <a href=#scheduler-process class=md-nav__link> <span class=md-ellipsis> Scheduler Process </span> </a> </li> <li class=md-nav__item> <a href=#resource-management class=md-nav__link> <span class=md-ellipsis> Resource Management </span> </a> </li> <li class=md-nav__item> <a href=#reference-material_5 class=md-nav__link> <span class=md-ellipsis> Reference material </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#9-constants-and-organization class=md-nav__link> <span class=md-ellipsis> 9. Constants and Organization </span> </a> <nav class=md-nav aria-label="9. Constants and Organization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constants-class class=md-nav__link> <span class=md-ellipsis> Constants Class </span> </a> </li> <li class=md-nav__item> <a href=#project-organization-tips class=md-nav__link> <span class=md-ellipsis> Project Organization Tips </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#10-testing-and-debugging class=md-nav__link> <span class=md-ellipsis> 10. Testing and Debugging </span> </a> <nav class=md-nav aria-label="10. Testing and Debugging"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#testing-individual-components class=md-nav__link> <span class=md-ellipsis> Testing Individual Components </span> </a> </li> <li class=md-nav__item> <a href=#common-debugging-techniques class=md-nav__link> <span class=md-ellipsis> Common Debugging Techniques </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#11-best-practices-summary class=md-nav__link> <span class=md-ellipsis> 11. Best Practices Summary </span> </a> <nav class=md-nav aria-label="11. Best Practices Summary"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#design-principles class=md-nav__link> <span class=md-ellipsis> Design Principles </span> </a> </li> <li class=md-nav__item> <a href=#code-organization class=md-nav__link> <span class=md-ellipsis> Code Organization </span> </a> </li> <li class=md-nav__item> <a href=#example-real-world-project-structure-phantomcatz-2025 class=md-nav__link> <span class=md-ellipsis> Example: Real-World Project Structure (PhantomCatz 2025) </span> </a> </li> <li class=md-nav__item> <a href=#testing-strategy class=md-nav__link> <span class=md-ellipsis> Testing Strategy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#12-next-steps class=md-nav__link> <span class=md-ellipsis> 12. Next Steps </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex> <span class=md-ellipsis> Chapter 4 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Chapter 4 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_4/PID/ class=md-nav__link> <span class=md-ellipsis> PID Control </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_4/simple_profiling/ class=md-nav__link> <span class=md-ellipsis> Motion Profiling: Getting Started </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex> <span class=md-ellipsis> Chapter 5 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Chapter 5 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_5/differential_control/ class=md-nav__link> <span class=md-ellipsis> Differential (Tank) Drive Programming Guide </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_5/drive_bases/ class=md-nav__link> <span class=md-ellipsis> Drive Base in FRC Programming </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_5/simple_trajectories/ class=md-nav__link> <span class=md-ellipsis> Swerve Trajectory: Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_5/swerve_control/ class=md-nav__link> <span class=md-ellipsis> Swerve Drive Programming Guide </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_7> <label class=md-nav__link for=__nav_3_7 id=__nav_3_7_label tabindex> <span class=md-ellipsis> Chapter 6 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> Chapter 6 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_6/auto_strategy/ class=md-nav__link> <span class=md-ellipsis> FRC Autonomous Programming - Strategy and Planning </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_6/extrainfoPuttingelsewhere/ class=md-nav__link> <span class=md-ellipsis> extrainfoPuttingelsewhere </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_6/writing_autos/ class=md-nav__link> <span class=md-ellipsis> FRC Autonomous Programming - Technical Implementation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_8> <label class=md-nav__link for=__nav_3_8 id=__nav_3_8_label tabindex> <span class=md-ellipsis> Chapter 7 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> Chapter 7 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_7/logging_intro/ class=md-nav__link> <span class=md-ellipsis> Logging intro </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_9> <label class=md-nav__link for=__nav_3_9 id=__nav_3_9_label tabindex> <span class=md-ellipsis> Chapter 8 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_9_label aria-expanded=false> <label class=md-nav__title for=__nav_3_9> <span class="md-nav__icon md-icon"></span> Chapter 8 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Chapter_8/apriltag_processing/ class=md-nav__link> <span class=md-ellipsis> AprilTag Processing: Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_8/pose_estimators_and_kalman_filters/ class=md-nav__link> <span class=md-ellipsis> Kalman Filters &amp; Pose Estimation: Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../Chapter_8/vision_explanation/ class=md-nav__link> <span class=md-ellipsis> Vision Processing: Getting Started </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1-understanding-command-based-programming class=md-nav__link> <span class=md-ellipsis> 1. Understanding Command-Based Programming </span> </a> <nav class=md-nav aria-label="1. Understanding Command-Based Programming"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-is-command-based-programming class=md-nav__link> <span class=md-ellipsis> What is Command-Based Programming? </span> </a> </li> <li class=md-nav__item> <a href=#why-use-command-based-programming class=md-nav__link> <span class=md-ellipsis> Why Use Command-Based Programming? </span> </a> </li> <li class=md-nav__item> <a href=#key-concepts class=md-nav__link> <span class=md-ellipsis> Key Concepts </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-setting-up-your-project-structure class=md-nav__link> <span class=md-ellipsis> 2. Setting Up Your Project Structure </span> </a> <nav class=md-nav aria-label="2. Setting Up Your Project Structure"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-a-command-based-project class=md-nav__link> <span class=md-ellipsis> Creating a Command-Based Project </span> </a> </li> <li class=md-nav__item> <a href=#project-structure-overview class=md-nav__link> <span class=md-ellipsis> Project Structure Overview </span> </a> </li> <li class=md-nav__item> <a href=#key-files-explained class=md-nav__link> <span class=md-ellipsis> Key Files Explained </span> </a> </li> <li class=md-nav__item> <a href=#reference-material class=md-nav__link> <span class=md-ellipsis> Reference material </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-setting-up-a-subsystem class=md-nav__link> <span class=md-ellipsis> 3. Setting up a Subsystem </span> </a> <nav class=md-nav aria-label="3. Setting up a Subsystem"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-are-subsystems class=md-nav__link> <span class=md-ellipsis> What Are Subsystems? </span> </a> </li> <li class=md-nav__item> <a href=#create-a-subsystem class=md-nav__link> <span class=md-ellipsis> Create a Subsystem </span> </a> </li> <li class=md-nav__item> <a href=#subsystem-best-practices class=md-nav__link> <span class=md-ellipsis> Subsystem Best Practices </span> </a> </li> <li class=md-nav__item> <a href=#reference-material_1 class=md-nav__link> <span class=md-ellipsis> Reference material </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-setting-up-commands class=md-nav__link> <span class=md-ellipsis> 4. Setting up Commands </span> </a> <nav class=md-nav aria-label="4. Setting up Commands"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-are-commands class=md-nav__link> <span class=md-ellipsis> What Are Commands? </span> </a> </li> <li class=md-nav__item> <a href=#command-lifecycle class=md-nav__link> <span class=md-ellipsis> Command Lifecycle </span> </a> </li> <li class=md-nav__item> <a href=#using-built-in-command-types class=md-nav__link> <span class=md-ellipsis> Using Built-in Command Types </span> </a> </li> <li class=md-nav__item> <a href=#common-command-types-and-when-to-use-them class=md-nav__link> <span class=md-ellipsis> Common Command Types and When to Use Them </span> </a> <nav class=md-nav aria-label="Common Command Types and When to Use Them"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#summary-table class=md-nav__link> <span class=md-ellipsis> Summary Table </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#reference-material_2 class=md-nav__link> <span class=md-ellipsis> Reference Material </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5-chaining-commands-in-command-compositions class=md-nav__link> <span class=md-ellipsis> 5. Chaining Commands in Command Compositions </span> </a> <nav class=md-nav aria-label="5. Chaining Commands in Command Compositions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#building-complex-commands class=md-nav__link> <span class=md-ellipsis> Building Complex Commands </span> </a> </li> <li class=md-nav__item> <a href=#sequential-commands class=md-nav__link> <span class=md-ellipsis> Sequential Commands </span> </a> </li> <li class=md-nav__item> <a href=#parallel-commands class=md-nav__link> <span class=md-ellipsis> Parallel Commands </span> </a> </li> <li class=md-nav__item> <a href=#other-command-compositions class=md-nav__link> <span class=md-ellipsis> Other Command Compositions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#6-setting-up-robotcontainer class=md-nav__link> <span class=md-ellipsis> 6. Setting Up RobotContainer </span> </a> <nav class=md-nav aria-label="6. Setting Up RobotContainer"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#the-robotcontainer-class class=md-nav__link> <span class=md-ellipsis> The RobotContainer Class </span> </a> </li> <li class=md-nav__item> <a href=#basic-robotcontainer-structure class=md-nav__link> <span class=md-ellipsis> Basic RobotContainer Structure </span> </a> </li> <li class=md-nav__item> <a href=#reference-material_3 class=md-nav__link> <span class=md-ellipsis> Reference material </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#7-binding-commands-to-triggers class=md-nav__link> <span class=md-ellipsis> 7. Binding Commands to Triggers </span> </a> <nav class=md-nav aria-label="7. Binding Commands to Triggers"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#understanding-triggers class=md-nav__link> <span class=md-ellipsis> Understanding Triggers </span> </a> </li> <li class=md-nav__item> <a href=#button-bindings class=md-nav__link> <span class=md-ellipsis> Button Bindings </span> </a> </li> <li class=md-nav__item> <a href=#trigger-conditions class=md-nav__link> <span class=md-ellipsis> Trigger Conditions </span> </a> </li> <li class=md-nav__item> <a href=#reference-material_4 class=md-nav__link> <span class=md-ellipsis> Reference material </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#8-the-command-scheduler class=md-nav__link> <span class=md-ellipsis> 8. The Command Scheduler </span> </a> <nav class=md-nav aria-label="8. The Command Scheduler"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#how-the-scheduler-works class=md-nav__link> <span class=md-ellipsis> How the Scheduler Works </span> </a> </li> <li class=md-nav__item> <a href=#scheduler-process class=md-nav__link> <span class=md-ellipsis> Scheduler Process </span> </a> </li> <li class=md-nav__item> <a href=#resource-management class=md-nav__link> <span class=md-ellipsis> Resource Management </span> </a> </li> <li class=md-nav__item> <a href=#reference-material_5 class=md-nav__link> <span class=md-ellipsis> Reference material </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#9-constants-and-organization class=md-nav__link> <span class=md-ellipsis> 9. Constants and Organization </span> </a> <nav class=md-nav aria-label="9. Constants and Organization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#constants-class class=md-nav__link> <span class=md-ellipsis> Constants Class </span> </a> </li> <li class=md-nav__item> <a href=#project-organization-tips class=md-nav__link> <span class=md-ellipsis> Project Organization Tips </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#10-testing-and-debugging class=md-nav__link> <span class=md-ellipsis> 10. Testing and Debugging </span> </a> <nav class=md-nav aria-label="10. Testing and Debugging"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#testing-individual-components class=md-nav__link> <span class=md-ellipsis> Testing Individual Components </span> </a> </li> <li class=md-nav__item> <a href=#common-debugging-techniques class=md-nav__link> <span class=md-ellipsis> Common Debugging Techniques </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#11-best-practices-summary class=md-nav__link> <span class=md-ellipsis> 11. Best Practices Summary </span> </a> <nav class=md-nav aria-label="11. Best Practices Summary"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#design-principles class=md-nav__link> <span class=md-ellipsis> Design Principles </span> </a> </li> <li class=md-nav__item> <a href=#code-organization class=md-nav__link> <span class=md-ellipsis> Code Organization </span> </a> </li> <li class=md-nav__item> <a href=#example-real-world-project-structure-phantomcatz-2025 class=md-nav__link> <span class=md-ellipsis> Example: Real-World Project Structure (PhantomCatz 2025) </span> </a> </li> <li class=md-nav__item> <a href=#testing-strategy class=md-nav__link> <span class=md-ellipsis> Testing Strategy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#12-next-steps class=md-nav__link> <span class=md-ellipsis> 12. Next Steps </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=command-based-robot-programming-guide>Command-Based Robot Programming Guide<a class=headerlink href=#command-based-robot-programming-guide title="Permanent link">&para;</a></h1> <blockquote> <p><strong>Note:</strong> Much of command-based programming has been extensively documented on the <a href=https://docs.wpilib.org/en/stable/docs/software/commandbased/ >WPILib Docs</a>. This guide is meant to simplify explanations and provide a step-by-step approach for users creating their first command-based program. For every topic, we will link the relevant WPILib reference documentation.</p> </blockquote> <h2 id=1-understanding-command-based-programming>1. Understanding Command-Based Programming<a class=headerlink href=#1-understanding-command-based-programming title="Permanent link">&para;</a></h2> <h3 id=what-is-command-based-programming>What is Command-Based Programming?<a class=headerlink href=#what-is-command-based-programming title="Permanent link">&para;</a></h3> <p>Command-based programming is a declarative programming paradigm that helps you organize your WPILib project and execute robot code logic in an organized fashion. </p> <h3 id=why-use-command-based-programming>Why Use Command-Based Programming?<a class=headerlink href=#why-use-command-based-programming title="Permanent link">&para;</a></h3> <ul> <li><strong>Modularity</strong>: Breaks down robot actions into small, reusable commands and subsystems, making code easier to maintain and continously develop over the course of a season.</li> <li><strong>Independent Development</strong>: Allows each subsystem and command to be developed and tested separately, helping teams manage complexity as the robot grows.</li> <li><strong>Supports Parallel and Sequential Actions</strong>: Enables more sophisticated robot behaviors by naturally supporting concurrent and ordered operations.</li> <li><strong>Cleaner Code and Collaboration</strong>: Syphoned abstracted logic between hardware, high level multi mechanism logic and lower level, single mechanism logic leads to "less boilerplate" code.</li> </ul> <p>The command-based pattern is based around two core concepts: <strong>commands</strong> and <strong>subsystems</strong>.</p> <h3 id=key-concepts>Key Concepts<a class=headerlink href=#key-concepts title="Permanent link">&para;</a></h3> <p><strong>Commands</strong>: Commands represent actions the robot can take. Commands run when scheduled, until they are interrupted or their end condition is met. Commands are very recursively composable: commands can be formatted together to accomplish more-complicated tasks.</p> <p><strong>Subsystems</strong>: Subsystems represent independently-controlled collections of robot hardware (such as motor controllers, sensors, pneumatic actuators, etc.) that operate together. Subsystems back the resource-management system of command-based: only one command can use a given subsystem at the same time.</p> <p>Reference Material:</p> <p><a href=https://docs.wpilib.org/en/stable/docs/software/commandbased/what-is-command-based.html>WPILIB Command based explanation</a></p> <p><a href=https://www.chiefdelphi.com/t/timed-vs-command-based/418622>Timed vs Command-Based Discussion</a></p> <h2 id=2-setting-up-your-project-structure>2. Setting Up Your Project Structure<a class=headerlink href=#2-setting-up-your-project-structure title="Permanent link">&para;</a></h2> <h3 id=creating-a-command-based-project>Creating a Command-Based Project<a class=headerlink href=#creating-a-command-based-project title="Permanent link">&para;</a></h3> <ol> <li><strong>In WPILib Visual Studio Code</strong>:<ul> <li>Execute the command "Create a new project"</li> <li>Select "Template" → "java" → "Command Robot"</li> <li>Enter your project information</li> <li>Create the project</li> </ul> </li> </ol> <blockquote> <p><strong>Note:</strong><br> There are two different command-based robot project templates available in WPILib: <strong>"Command Robot"</strong> and <strong>"Command Robot Skeleton"</strong>. </p> <p>It is recommended to use the <strong>"Command Robot Skeleton"</strong> template. The skeleton template does <strong>not</strong> include example files, which can sometimes confuse new users. Starting with the skeleton template gives you a cleaner foundation for building your own robot code.</p> </blockquote> <h3 id=project-structure-overview>Project Structure Overview<a class=headerlink href=#project-structure-overview title="Permanent link">&para;</a></h3> <p>A standard template for a command-based robot project is included in the WPILib examples repository. The root package/directory generally will contain four classes:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>src/main/java/frc/robot/
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>├── Main.java              // Main robot application (don&#39;t modify)
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>├── Robot.java             // Main control flow
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>├── RobotContainer.java    // Robot setup and bindings
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>├── Constants.java         // Global constants
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>├── subsystems/            // All subsystem classes
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>│   └── IntakeSubsystem.java
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>└── Class Commands/              // All command classes
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>      └── RunIntakeCommand.java
</code></pre></div> <h3 id=key-files-explained>Key Files Explained<a class=headerlink href=#key-files-explained title="Permanent link">&para;</a></h3> <ul> <li><strong>Main.java</strong>: The entry point for your robot program (Java only - don't modify)</li> <li><strong>Robot.java</strong>: Handles the main control flow and periodic updates</li> <li><strong>RobotContainer.java</strong>: Where you define subsystems, commands, and button bindings</li> <li><strong>Constants.java</strong>: Store all your robot's constants in one place</li> </ul> <h3 id=reference-material>Reference material<a class=headerlink href=#reference-material title="Permanent link">&para;</a></h3> <p><a href=https://docs.wpilib.org/en/stable/docs/software/commandbased/structuring-command-based-project.html>Structuring a Command-Based Robot Project</a></p> <h2 id=3-setting-up-a-subsystem>3. Setting up a Subsystem<a class=headerlink href=#3-setting-up-a-subsystem title="Permanent link">&para;</a></h2> <h3 id=what-are-subsystems>What Are Subsystems?<a class=headerlink href=#what-are-subsystems title="Permanent link">&para;</a></h3> <p>Subsystems are the basic unit of robot organization in the command-based paradigm. A subsystem is an abstraction for a collection of robot hardware that operates together as a unit.</p> <blockquote> <p><strong>Tip:</strong><br> For the purposes of this tutorial, we will begin with a base Intake Roller Subsystem and build our command-based system from there.</p> </blockquote> <h3 id=create-a-subsystem>Create a Subsystem<a class=headerlink href=#create-a-subsystem title="Permanent link">&para;</a></h3> <p>The recommended method to create a subsystem for most users is to subclass the abstract SubsystemBase class. Simply type "extend SubsystemBase" after your class name and add the specified periodic method as shown below.</p> <p><strong>Basic Subsystem Structure:</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>IntakeSubsystem</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>SubsystemBase</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>      </span><span class=c1>// Hardware components</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>      </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>PWMSparkMax</span><span class=w> </span><span class=n>intakeMotor</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>PWMSparkMax</span><span class=p>(</span><span class=n>Constants</span><span class=p>.</span><span class=na>IntakeConstants</span><span class=p>.</span><span class=na>INTAKE_MOTOR_PORT</span><span class=p>);</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>      </span><span class=cm>/** Creates a new IntakeSubsystem. */</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>      </span><span class=kd>public</span><span class=w> </span><span class=nf>IntakeSubsystem</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>            </span><span class=c1>// Initialize hardware here</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=w>      </span><span class=nd>@Override</span>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=w>      </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>periodic</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=w>            </span><span class=c1>// This method is called once per scheduler run</span>
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=w>            </span><span class=c1>// Use for continuous monitoring/updates</span>
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=w>      </span><span class=c1>// Subsystem methods that commands will call</span>
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=w>      </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>setIntakeSpeed</span><span class=p>(</span><span class=kt>double</span><span class=w> </span><span class=n>speed</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=w>            </span><span class=n>intakeMotor</span><span class=p>.</span><span class=na>set</span><span class=p>(</span><span class=n>speed</span><span class=p>);</span>
<a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a>
<a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=w>      </span><span class=kd>public</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=nf>getIntakeSpeed</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>intakeMotor</span><span class=p>.</span><span class=na>get</span><span class=p>();</span>
<a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a>
<a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=w>      </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>stopIntake</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a><span class=w>            </span><span class=n>intakeMotor</span><span class=p>.</span><span class=na>set</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
<a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a>
<a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a><span class=w>      </span><span class=c1>// Command factory methods</span>
<a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a><span class=w>      </span><span class=kd>public</span><span class=w> </span><span class=n>Command</span><span class=w> </span><span class=nf>runIntakeCommand</span><span class=p>(</span><span class=kt>double</span><span class=w> </span><span class=n>speed</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>runOnce</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>setIntakeSpeed</span><span class=p>(</span><span class=n>speed</span><span class=p>));</span>
<a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a>
<a id=__codelineno-1-34 name=__codelineno-1-34 href=#__codelineno-1-34></a><span class=w>      </span><span class=kd>public</span><span class=w> </span><span class=n>Command</span><span class=w> </span><span class=nf>stopIntakeCommand</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-1-35 name=__codelineno-1-35 href=#__codelineno-1-35></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=n>runOnce</span><span class=p>(</span><span class=k>this</span><span class=p>::</span><span class=n>stopIntake</span><span class=p>);</span>
<a id=__codelineno-1-36 name=__codelineno-1-36 href=#__codelineno-1-36></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-1-37 name=__codelineno-1-37 href=#__codelineno-1-37></a><span class=p>}</span>
</code></pre></div> <h3 id=subsystem-best-practices>Subsystem Best Practices<a class=headerlink href=#subsystem-best-practices title="Permanent link">&para;</a></h3> <ol> <li><strong>Encapsulation</strong>: Hide hardware details inside the subsystem</li> <li><strong>Single Responsibility</strong>: Each subsystem should control one functional area (e.g., the intake should only be responsible for intake roller movement)</li> <li><strong>Provide Clean Interface</strong>: Offer methods that commands can easily use</li> <li><strong>Use periodic()</strong>: For continuous monitoring and updates</li> </ol> <h3 id=reference-material_1>Reference material<a class=headerlink href=#reference-material_1 title="Permanent link">&para;</a></h3> <p><a href=https://docs.wpilib.org/en/stable/docs/software/commandbased/subsystems.html>Command Based Subsystems</a></p> <h2 id=4-setting-up-commands>4. Setting up Commands<a class=headerlink href=#4-setting-up-commands title="Permanent link">&para;</a></h2> <h3 id=what-are-commands>What Are Commands?<a class=headerlink href=#what-are-commands title="Permanent link">&para;</a></h3> <p>Commands represent actions the robot can take. Commands run when scheduled, until they are interrupted or their end condition is met.</p> <h3 id=command-lifecycle>Command Lifecycle<a class=headerlink href=#command-lifecycle title="Permanent link">&para;</a></h3> <p>Every command, including Built-In, factory, and class-types, has four key methods:</p> <ol> <li> <p><strong>initialize()</strong>:<br> Called once when the command starts.<br> <em>Use this method to set up any initial state, reset sensors, or perform setup actions before the command begins executing.</em></p> </li> <li> <p><strong>execute()</strong>:<br> Called repeatedly while the command runs.<br> <em>This is where you put the main logic of your command. It runs in a loop until <code>isFinished()</code> returns true. If you have a multi subsystem auto aim, state machine, or trajectory that requries constant refreshing of variables, put that logic in execute()</em></p> </li> <li> <p><strong>isFinished()</strong>:<br> Returns true when the command should end.<br> <em>This method checks if the command’s goal has been met (for example, a timer has expired or a sensor has reached a value). When it returns true, the command will stop executing.</em></p> </li> <li> <p><strong>end()</strong>:<br> Called once when the command finishes.<br> <em>Use this to clean up or reset anything after the command ends, such as stopping motors or releasing resources. This runs whether the command ends normally or is interrupted.</em></p> </li> </ol> <h3 id=using-built-in-command-types>Using Built-in Command Types<a class=headerlink href=#using-built-in-command-types title="Permanent link">&para;</a></h3> <p>The command-based library includes many pre-written command types. Through the use of lambdas, these commands can cover almost all use cases and teams should rarely need to write custom command classes.</p> <h3 id=common-command-types-and-when-to-use-them>Common Command Types and When to Use Them<a class=headerlink href=#common-command-types-and-when-to-use-them title="Permanent link">&para;</a></h3> <p>Below are the most common command types in WPILib, each with a description and guidance on when to use them:</p> <ol> <li> <p><strong>InstantCommand</strong></p> <ul> <li><strong>Use when:</strong> You want to perform a quick, one-time action that completes immediately (e.g., stop the intake roller).</li> <li><strong>Example:</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>new</span><span class=w> </span><span class=n>InstantCommand</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>stopIntake</span><span class=p>(),</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>);</span>
</code></pre></div></li> </ul> </li> <li> <p><strong>RunCommand</strong></p> <ul> <li><strong>Use when:</strong> You want to run code continuously while the command is scheduled, and stop when it ends (e.g., run the intake while a button is held).</li> <li><strong>Example:</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>new</span><span class=w> </span><span class=n>RunCommand</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>),</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>);</span>
</code></pre></div></li> </ul> </li> <li> <p><strong>StartEndCommand</strong></p> <ul> <li><strong>Use when:</strong> You need to run code while the command is active, and a different action when it ends (e.g., run the intake on press, stop on release).</li> <li><strong>Example:</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>new</span><span class=w> </span><span class=n>StartEndCommand</span><span class=p>(</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>          </span><span class=p>()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>),</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>          </span><span class=p>()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>stopIntake</span><span class=p>(),</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>          </span><span class=n>intakeSubsystem</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=p>);</span>
</code></pre></div></li> </ul> </li> <li> <p><strong>FunctionalCommand</strong></p> <ul> <li><strong>Use when:</strong> You want full control over initialization, execution, ending, and completion conditions, but don’t want to write a full class (e.g., run the intake for a certain time).</li> <li><strong>Example:</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>new</span><span class=w> </span><span class=n>FunctionalCommand</span><span class=p>(</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>          </span><span class=p>()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=p>{},</span><span class=w> </span><span class=c1>// initialize</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>          </span><span class=p>()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>),</span><span class=w>  </span><span class=c1>// execute</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>          </span><span class=n>interrupted</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>stopIntake</span><span class=p>(),</span><span class=w> </span><span class=c1>// end</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>          </span><span class=p>()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>Timer</span><span class=p>.</span><span class=na>getFPGATimestamp</span><span class=p>()</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mf>2.0</span><span class=p>,</span><span class=w> </span><span class=c1>// isFinished (example)</span>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>          </span><span class=n>intakeSubsystem</span>
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=p>);</span>
</code></pre></div></li> </ul> </li> <li> <p><strong>Command Factories (Factory Methods)</strong></p> <ul> <li><strong>Use when:</strong> You want to quickly create simple commands using static factory methods for common patterns. </li> <li><strong>Note:</strong> These factory methods (<code>runOnce</code>, <code>run</code>, <code>waitSeconds</code>, etc.) are only available within a <code>SubsystemBase</code> subclass (i.e., inside your subsystem class).</li> <li><strong>Examples (inside IntakeSubsystem):</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1>// Inside your IntakeSubsystem class</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=c1>// Run the intake once and finish immediately</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=kd>public</span><span class=w> </span><span class=n>Command</span><span class=w> </span><span class=nf>startIntakeCommand</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>      </span><span class=k>return</span><span class=w> </span><span class=n>runOnce</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>));</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=p>}</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=c1>// Run the intake repeatedly until interrupted</span>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=kd>public</span><span class=w> </span><span class=n>Command</span><span class=w> </span><span class=nf>holdIntakeCommand</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=w>      </span><span class=k>return</span><span class=w> </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>));</span>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=p>}</span>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a><span class=c1>// Run until a condition is met (e.g., sensor detects object)</span>
<a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=kd>public</span><span class=w> </span><span class=n>Command</span><span class=w> </span><span class=nf>runIntakeUntilObjectDetectedCommand</span><span class=p>(</span><span class=n>Supplier</span><span class=o>&lt;</span><span class=n>Boolean</span><span class=o>&gt;</span><span class=w> </span><span class=n>objectDetected</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a><span class=w>      </span><span class=k>return</span><span class=w> </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>))</span>
<a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=w>            </span><span class=p>.</span><span class=na>until</span><span class=p>(</span><span class=n>objectDetected</span><span class=p>);</span>
<a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=p>}</span>
<a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a>
<a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a><span class=c1>// Wait for a specified time</span>
<a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a><span class=kd>public</span><span class=w> </span><span class=n>Command</span><span class=w> </span><span class=nf>waitTwoSecondsCommand</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a><span class=w>      </span><span class=k>return</span><span class=w> </span><span class=n>waitSeconds</span><span class=p>(</span><span class=mf>2.0</span><span class=p>);</span>
<a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a><span class=p>}</span>
</code></pre></div></li> </ul> </li> <li> <p><strong>Command Classes (Extending CommandBase)</strong></p> <ul> <li><strong>Use when:</strong> The command is complex, reused, or needs its own state/fields (e.g., run the intake for a specific duration).</li> <li><strong>Example:</strong> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>RunIntakeForTime</span><span class=w> </span><span class=kd>extends</span><span class=w> </span><span class=n>CommandBase</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=w>          </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>IntakeSubsystem</span><span class=w> </span><span class=n>intake</span><span class=p>;</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>          </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>duration</span><span class=p>;</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>          </span><span class=kd>private</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>startTime</span><span class=p>;</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>          </span><span class=kd>public</span><span class=w> </span><span class=nf>RunIntakeForTime</span><span class=p>(</span><span class=n>IntakeSubsystem</span><span class=w> </span><span class=n>intake</span><span class=p>,</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>duration</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>                 </span><span class=k>this</span><span class=p>.</span><span class=na>intake</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>intake</span><span class=p>;</span>
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>                 </span><span class=k>this</span><span class=p>.</span><span class=na>duration</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>duration</span><span class=p>;</span>
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>                 </span><span class=n>addRequirements</span><span class=p>(</span><span class=n>intake</span><span class=p>);</span>
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=w>          </span><span class=p>}</span>
<a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a>
<a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=w>          </span><span class=nd>@Override</span>
<a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=w>          </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>initialize</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a><span class=w>                 </span><span class=n>startTime</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Timer</span><span class=p>.</span><span class=na>getFPGATimestamp</span><span class=p>();</span>
<a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a><span class=w>          </span><span class=p>}</span>
<a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a>
<a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a><span class=w>          </span><span class=nd>@Override</span>
<a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a><span class=w>          </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>execute</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a><span class=w>                 </span><span class=n>intake</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>);</span>
<a id=__codelineno-7-20 name=__codelineno-7-20 href=#__codelineno-7-20></a><span class=w>          </span><span class=p>}</span>
<a id=__codelineno-7-21 name=__codelineno-7-21 href=#__codelineno-7-21></a>
<a id=__codelineno-7-22 name=__codelineno-7-22 href=#__codelineno-7-22></a><span class=w>          </span><span class=nd>@Override</span>
<a id=__codelineno-7-23 name=__codelineno-7-23 href=#__codelineno-7-23></a><span class=w>          </span><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>isFinished</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-24 name=__codelineno-7-24 href=#__codelineno-7-24></a><span class=w>                 </span><span class=k>return</span><span class=w> </span><span class=n>Timer</span><span class=p>.</span><span class=na>getFPGATimestamp</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>startTime</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>duration</span><span class=p>;</span>
<a id=__codelineno-7-25 name=__codelineno-7-25 href=#__codelineno-7-25></a><span class=w>          </span><span class=p>}</span>
<a id=__codelineno-7-26 name=__codelineno-7-26 href=#__codelineno-7-26></a>
<a id=__codelineno-7-27 name=__codelineno-7-27 href=#__codelineno-7-27></a><span class=w>          </span><span class=nd>@Override</span>
<a id=__codelineno-7-28 name=__codelineno-7-28 href=#__codelineno-7-28></a><span class=w>          </span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>end</span><span class=p>(</span><span class=kt>boolean</span><span class=w> </span><span class=n>interrupted</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-7-29 name=__codelineno-7-29 href=#__codelineno-7-29></a><span class=w>                 </span><span class=n>intake</span><span class=p>.</span><span class=na>stopIntake</span><span class=p>();</span>
<a id=__codelineno-7-30 name=__codelineno-7-30 href=#__codelineno-7-30></a><span class=w>          </span><span class=p>}</span>
<a id=__codelineno-7-31 name=__codelineno-7-31 href=#__codelineno-7-31></a><span class=p>}</span>
</code></pre></div></li> </ul> <blockquote> <p><strong>Note:</strong><br> The <code>wait</code> command pauses the execution of the command sequence for a specified duration before proceeding to the next command. This is useful for introducing delays between actions or synchronizing with asynchronous events. For example, <code>waitSeconds(2.0)</code> will delay the next command by 2 seconds.</p> </blockquote> <p><strong>Example usage:</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1>// Wait for 2 seconds before running the next command</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=n>Command</span><span class=w> </span><span class=n>waitThenRunIntake</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>SequentialCommandGroup</span><span class=p>(</span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>     </span><span class=k>new</span><span class=w> </span><span class=n>WaitCommand</span><span class=p>(</span><span class=mf>2.0</span><span class=p>),</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=w>     </span><span class=k>new</span><span class=w> </span><span class=n>InstantCommand</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>),</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>)</span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=p>);</span>
</code></pre></div> <p>You can also use the <code>waitSeconds</code> factory method (inside a <code>SubsystemBase</code> subclass or with the <code>Commands</code> utility):</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1>// Using the factory method for a 1.5 second wait</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=n>Command</span><span class=w> </span><span class=n>waitCommand</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>waitSeconds</span><span class=p>(</span><span class=mf>1.5</span><span class=p>);</span>
</code></pre></div> <blockquote> <p><strong>Note:</strong><br> <code>WaitCommand</code> is especially useful in autonomous routines where you need to pause between actions, such as waiting for a mechanism to finish moving before starting the next step.</p> </blockquote> <p>For more details, see the <a href=https://docs.wpilib.org/en/stable/docs/software/commandbased/commands.html#waitcommand>WPILib WaitCommand documentation</a>.</p> </li> </ol> <hr> <h4 id=summary-table>Summary Table<a class=headerlink href=#summary-table title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Command Type</th> <th>Use For</th> </tr> </thead> <tbody> <tr> <td>InstantCommand</td> <td>One-shot actions</td> </tr> <tr> <td>RunCommand</td> <td>Continuous actions</td> </tr> <tr> <td>StartEndCommand</td> <td>Start/stop paired actions</td> </tr> <tr> <td>FunctionalCommand</td> <td>Custom lifecycle logic</td> </tr> <tr> <td>Command Class</td> <td>Complex or reusable cmds</td> </tr> </tbody> </table> <blockquote> <p><strong>Tip:</strong><br> Start with the simplest command type that fits your need, such as a subsystem factory command that starts or stops the intake. Then, branch off into command compositions for multi-subsystem logic (Described below). Use full command classes only for complex or reusable behaviors. See <a href=https://docs.wpilib.org/en/stable/docs/software/commandbased/commands.html#command-types>WPILib Command Types</a> for more details.</p> </blockquote> <h3 id=reference-material_2>Reference Material<a class=headerlink href=#reference-material_2 title="Permanent link">&para;</a></h3> <ul> <li><a href=https://docs.wpilib.org/en/stable/docs/software/commandbased/commands.html>Commands</a></li> </ul> <h2 id=5-chaining-commands-in-command-compositions>5. Chaining Commands in Command Compositions<a class=headerlink href=#5-chaining-commands-in-command-compositions title="Permanent link">&para;</a></h2> <h3 id=building-complex-commands>Building Complex Commands<a class=headerlink href=#building-complex-commands title="Permanent link">&para;</a></h3> <p>Individual commands are capable of accomplishing a large variety of robot tasks, but the format can quickly become cumbersome when more advanced functionality requiring extended sequences of robot tasks or coordination of multiple robot subsystems is required. Below are a list of the most useful command chain types that you can implement in your project:</p> <h3 id=sequential-commands>Sequential Commands<a class=headerlink href=#sequential-commands title="Permanent link">&para;</a></h3> <p>Run commands one after another:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=c1>// Using the sequence factory</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=n>Command</span><span class=w> </span><span class=n>autoSequence</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Commands</span><span class=p>.</span><span class=na>sequence</span><span class=p>(</span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=w>      </span><span class=n>runOnce</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>)),</span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=w>      </span><span class=n>waitSeconds</span><span class=p>(</span><span class=mf>0.5</span><span class=p>),</span>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=w>      </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.3</span><span class=p>)).</span><span class=na>withTimeout</span><span class=p>(</span><span class=mf>2.0</span><span class=p>),</span>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=w>      </span><span class=n>runOnce</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>stopIntake</span><span class=p>())</span>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=p>);</span>
</code></pre></div> <h3 id=parallel-commands>Parallel Commands<a class=headerlink href=#parallel-commands title="Permanent link">&para;</a></h3> <p>There are three types of parallel compositions, differing based on when the composition finishes:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=c1>// All commands must finish</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=n>Command</span><span class=w> </span><span class=n>parallelAll</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Commands</span><span class=p>.</span><span class=na>parallel</span><span class=p>(</span>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=w>      </span><span class=n>runOnce</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>)),</span>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=w>      </span><span class=n>runOnce</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>driveSubsystem</span><span class=p>.</span><span class=na>arcadeDrive</span><span class=p>(</span><span class=mf>0.5</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>))</span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=p>);</span>
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=c1>// Finish when any command finishes</span>
<a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=n>Command</span><span class=w> </span><span class=n>raceGroup</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Commands</span><span class=p>.</span><span class=na>race</span><span class=p>(</span>
<a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a><span class=w>      </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>)),</span>
<a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=w>      </span><span class=n>waitSeconds</span><span class=p>(</span><span class=mf>3.0</span><span class=p>)</span>
<a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a><span class=p>);</span>
<a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>
<a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a><span class=c1>// Run commands alongside each other</span>
<a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a><span class=n>Command</span><span class=w> </span><span class=n>driveAndIntake</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Commands</span><span class=p>.</span><span class=na>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>driveSubsystem</span><span class=p>.</span><span class=na>arcadeDrive</span><span class=p>(</span><span class=mf>0.5</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>))</span>
<a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a><span class=w>      </span><span class=p>.</span><span class=na>alongWith</span><span class=p>(</span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.3</span><span class=p>)));</span>
</code></pre></div> <blockquote> <p><strong>Note:</strong><br> The <code>Commands.sequence</code>, <code>Commands.parallel</code>, and similar factory methods are convenience wrappers. You can also create command groups directly using classes like <code>SequentialCommandGroup</code> or <code>ParallelCommandGroup</code>, passing your commands as parameters.</p> </blockquote> <p><strong>Example using <code>ParallelCommandGroup</code>:</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=n>Command</span><span class=w> </span><span class=n>parallelGroup</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ParallelCommandGroup</span><span class=p>(</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=w>      </span><span class=k>new</span><span class=w> </span><span class=n>InstantCommand</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>),</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>),</span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=w>      </span><span class=k>new</span><span class=w> </span><span class=n>InstantCommand</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>driveSubsystem</span><span class=p>.</span><span class=na>arcadeDrive</span><span class=p>(</span><span class=mf>0.5</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w> </span><span class=n>driveSubsystem</span><span class=p>)</span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=p>);</span>
</code></pre></div> <h3 id=other-command-compositions>Other Command Compositions<a class=headerlink href=#other-command-compositions title="Permanent link">&para;</a></h3> <p>In addition to <code>Commands.sequence</code> and <code>Commands.parallel</code>, WPILib provides several other command composition patterns for building complex robot behaviors:</p> <ul> <li> <p><strong>race</strong>: Runs multiple commands in parallel, but the group ends as soon as <em>any</em> command finishes. Useful for timeouts or interrupting actions. <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=n>Commands</span><span class=p>.</span><span class=na>race</span><span class=p>(</span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=w>          </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>)),</span>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=w>          </span><span class=n>waitSeconds</span><span class=p>(</span><span class=mf>3.0</span><span class=p>)</span>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=p>);</span>
</code></pre></div></p> </li> <li> <p><strong>deadline</strong>: Runs multiple commands in parallel, but the group ends when a designated "deadline" command finishes. All other commands are interrupted at that point. <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=n>Commands</span><span class=p>.</span><span class=na>deadline</span><span class=p>(</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=w>          </span><span class=n>waitSeconds</span><span class=p>(</span><span class=mf>2.0</span><span class=p>),</span><span class=w> </span><span class=c1>// deadline command</span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=w>          </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>))</span>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=p>);</span>
</code></pre></div></p> </li> <li> <p><strong>alongWith</strong>: Runs two commands in parallel, and both must finish for the group to end. This is a convenient way to combine two commands without creating a full parallel group. <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=n>Command</span><span class=w> </span><span class=n>driveAndIntake</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>driveSubsystem</span><span class=p>.</span><span class=na>arcadeDrive</span><span class=p>(</span><span class=mf>0.5</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>))</span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=w>          </span><span class=p>.</span><span class=na>alongWith</span><span class=p>(</span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.3</span><span class=p>)));</span>
</code></pre></div></p> </li> <li> <p><strong>repeatedly</strong>: Repeats a command indefinitely until interrupted. Useful for continuous actions that should only stop when explicitly canceled. <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=n>Command</span><span class=w> </span><span class=n>repeatIntake</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>)).</span><span class=na>repeatedly</span><span class=p>();</span>
</code></pre></div></p> </li> <li> <p><strong>perpetually</strong>: Similar to <code>repeatedly</code>, but the command never finishes on its own and must be interrupted. <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=n>Command</span><span class=w> </span><span class=n>perpetualIntake</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>)).</span><span class=na>perpetually</span><span class=p>();</span>
</code></pre></div></p> </li> </ul> <p>For more details and advanced usage, see the <a href=https://docs.wpilib.org/en/stable/docs/software/commandbased/command-compositions.html>WPILib Command Compositions documentation</a>.</p> <blockquote> <p><strong>Tip:</strong><br> For most use cases, you should primarily use parallel and sequential command compositions to organize your robot's actions. Branch out into other specialized command compositions (such as <code>race</code>, <code>deadline</code>, <code>alongWith</code>, etc.) only when you encounter scenarios that require their unique behaviors. This approach keeps your code simple and maintainable. For example, for the context of your intake subsystem, you can have a sequential command group that turns</p> </blockquote> <h2 id=6-setting-up-robotcontainer>6. Setting Up RobotContainer<a class=headerlink href=#6-setting-up-robotcontainer title="Permanent link">&para;</a></h2> <h3 id=the-robotcontainer-class>The RobotContainer Class<a class=headerlink href=#the-robotcontainer-class title="Permanent link">&para;</a></h3> <p>RobotContainer is where most of the setup for your command-based robot will take place. In this class, you will define your robot's subsystems and commands, bind those commands to triggering events (such as buttons), and specify which command you will run in your autonomous routine.</p> <h3 id=basic-robotcontainer-structure>Basic RobotContainer Structure<a class=headerlink href=#basic-robotcontainer-structure title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>RobotContainer</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=w>      </span><span class=c1>// Subsystems</span>
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=w>      </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>IntakeSubsystem</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IntakeSubsystem</span><span class=p>();</span>
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=w>      </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>DriveSubsystem</span><span class=w> </span><span class=n>driveSubsystem</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>DriveSubsystem</span><span class=p>();</span>
<a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>
<a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a><span class=w>      </span><span class=c1>// Controllers</span>
<a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a><span class=w>      </span><span class=kd>private</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=n>CommandXboxController</span><span class=w> </span><span class=n>driverController</span><span class=w> </span><span class=o>=</span><span class=w> </span>
<a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a><span class=w>            </span><span class=k>new</span><span class=w> </span><span class=n>CommandXboxController</span><span class=p>(</span><span class=n>Constants</span><span class=p>.</span><span class=na>OIConstants</span><span class=p>.</span><span class=na>DRIVER_CONTROLLER_PORT</span><span class=p>);</span>
<a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a>
<a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a><span class=w>      </span><span class=kd>public</span><span class=w> </span><span class=nf>RobotContainer</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a><span class=w>            </span><span class=c1>// Configure default commands</span>
<a id=__codelineno-18-12 name=__codelineno-18-12 href=#__codelineno-18-12></a><span class=w>            </span><span class=n>configureDefaultCommands</span><span class=p>();</span>
<a id=__codelineno-18-13 name=__codelineno-18-13 href=#__codelineno-18-13></a>
<a id=__codelineno-18-14 name=__codelineno-18-14 href=#__codelineno-18-14></a><span class=w>            </span><span class=c1>// Configure button bindings</span>
<a id=__codelineno-18-15 name=__codelineno-18-15 href=#__codelineno-18-15></a><span class=w>            </span><span class=n>configureBindings</span><span class=p>();</span>
<a id=__codelineno-18-16 name=__codelineno-18-16 href=#__codelineno-18-16></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-18-17 name=__codelineno-18-17 href=#__codelineno-18-17></a>
<a id=__codelineno-18-18 name=__codelineno-18-18 href=#__codelineno-18-18></a><span class=w>      </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>configureDefaultCommands</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-18-19 name=__codelineno-18-19 href=#__codelineno-18-19></a><span class=w>            </span><span class=c1>// Set default command for drivetrain</span>
<a id=__codelineno-18-20 name=__codelineno-18-20 href=#__codelineno-18-20></a><span class=w>            </span><span class=n>driveSubsystem</span><span class=p>.</span><span class=na>setDefaultCommand</span><span class=p>(</span>
<a id=__codelineno-18-21 name=__codelineno-18-21 href=#__codelineno-18-21></a><span class=w>                    </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>driveSubsystem</span><span class=p>.</span><span class=na>arcadeDrive</span><span class=p>(</span>
<a id=__codelineno-18-22 name=__codelineno-18-22 href=#__codelineno-18-22></a><span class=w>                          </span><span class=o>-</span><span class=n>driverController</span><span class=p>.</span><span class=na>getLeftY</span><span class=p>(),</span>
<a id=__codelineno-18-23 name=__codelineno-18-23 href=#__codelineno-18-23></a><span class=w>                          </span><span class=o>-</span><span class=n>driverController</span><span class=p>.</span><span class=na>getRightX</span><span class=p>()</span>
<a id=__codelineno-18-24 name=__codelineno-18-24 href=#__codelineno-18-24></a><span class=w>                    </span><span class=p>)).</span><span class=na>withName</span><span class=p>(</span><span class=s>&quot;Default Drive&quot;</span><span class=p>)</span>
<a id=__codelineno-18-25 name=__codelineno-18-25 href=#__codelineno-18-25></a><span class=w>            </span><span class=p>);</span>
<a id=__codelineno-18-26 name=__codelineno-18-26 href=#__codelineno-18-26></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-18-27 name=__codelineno-18-27 href=#__codelineno-18-27></a>
<a id=__codelineno-18-28 name=__codelineno-18-28 href=#__codelineno-18-28></a><span class=w>      </span><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>configureBindings</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-18-29 name=__codelineno-18-29 href=#__codelineno-18-29></a><span class=w>            </span><span class=c1>// Button bindings go here (See button binding section for more info)</span>
<a id=__codelineno-18-30 name=__codelineno-18-30 href=#__codelineno-18-30></a>
<a id=__codelineno-18-31 name=__codelineno-18-31 href=#__codelineno-18-31></a><span class=w>          </span><span class=c1>// Bind A button to start intake at 75% speed while held</span>
<a id=__codelineno-18-32 name=__codelineno-18-32 href=#__codelineno-18-32></a><span class=w>          </span><span class=n>driverController</span><span class=p>.</span><span class=na>a</span><span class=p>().</span><span class=na>whileTrue</span><span class=p>(</span>
<a id=__codelineno-18-33 name=__codelineno-18-33 href=#__codelineno-18-33></a><span class=w>               </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>))</span>
<a id=__codelineno-18-34 name=__codelineno-18-34 href=#__codelineno-18-34></a><span class=w>          </span><span class=p>);</span>
<a id=__codelineno-18-35 name=__codelineno-18-35 href=#__codelineno-18-35></a>
<a id=__codelineno-18-36 name=__codelineno-18-36 href=#__codelineno-18-36></a><span class=w>          </span><span class=c1>// Bind B button to reverse intake at 50% speed while held</span>
<a id=__codelineno-18-37 name=__codelineno-18-37 href=#__codelineno-18-37></a><span class=w>          </span><span class=n>driverController</span><span class=p>.</span><span class=na>b</span><span class=p>().</span><span class=na>whileTrue</span><span class=p>(</span>
<a id=__codelineno-18-38 name=__codelineno-18-38 href=#__codelineno-18-38></a><span class=w>               </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=o>-</span><span class=mf>0.5</span><span class=p>))</span>
<a id=__codelineno-18-39 name=__codelineno-18-39 href=#__codelineno-18-39></a><span class=w>          </span><span class=p>);</span>
<a id=__codelineno-18-40 name=__codelineno-18-40 href=#__codelineno-18-40></a>
<a id=__codelineno-18-41 name=__codelineno-18-41 href=#__codelineno-18-41></a><span class=w>          </span><span class=c1>// Bind X button to stop intake when pressed</span>
<a id=__codelineno-18-42 name=__codelineno-18-42 href=#__codelineno-18-42></a><span class=w>          </span><span class=n>driverController</span><span class=p>.</span><span class=na>x</span><span class=p>().</span><span class=na>onTrue</span><span class=p>(</span>
<a id=__codelineno-18-43 name=__codelineno-18-43 href=#__codelineno-18-43></a><span class=w>               </span><span class=n>runOnce</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>stopIntake</span><span class=p>())</span>
<a id=__codelineno-18-44 name=__codelineno-18-44 href=#__codelineno-18-44></a><span class=w>          </span><span class=p>);</span>
<a id=__codelineno-18-45 name=__codelineno-18-45 href=#__codelineno-18-45></a>
<a id=__codelineno-18-46 name=__codelineno-18-46 href=#__codelineno-18-46></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-18-47 name=__codelineno-18-47 href=#__codelineno-18-47></a>
<a id=__codelineno-18-48 name=__codelineno-18-48 href=#__codelineno-18-48></a><span class=w>      </span><span class=kd>public</span><span class=w> </span><span class=n>Command</span><span class=w> </span><span class=nf>getAutonomousCommand</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-18-49 name=__codelineno-18-49 href=#__codelineno-18-49></a><span class=w>            </span><span class=c1>// Return autonomous command</span>
<a id=__codelineno-18-50 name=__codelineno-18-50 href=#__codelineno-18-50></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
<a id=__codelineno-18-51 name=__codelineno-18-51 href=#__codelineno-18-51></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-18-52 name=__codelineno-18-52 href=#__codelineno-18-52></a><span class=p>}</span>
</code></pre></div> <blockquote> <p><strong>Tip:</strong><br> When writing your RobotContainer class, declare your subsystems at the top of the file, place your button bindings configuration in the middle, and define your autonomous routines at the bottom. This structure keeps your code organized and easy to maintain.</p> </blockquote> <h3 id=reference-material_3>Reference material<a class=headerlink href=#reference-material_3 title="Permanent link">&para;</a></h3> <ul> <li><a href=https://docs.wpilib.org/en/stable/docs/software/commandbased/organizing-command-based-project.html>Organizing Robot Code</a></li> </ul> <h2 id=7-binding-commands-to-triggers>7. Binding Commands to Triggers<a class=headerlink href=#7-binding-commands-to-triggers title="Permanent link">&para;</a></h2> <h3 id=understanding-triggers>Understanding Triggers<a class=headerlink href=#understanding-triggers title="Permanent link">&para;</a></h3> <p>Apart from autonomous commands, which are scheduled at the start of the autonomous period, and default commands, which are automatically scheduled whenever their subsystem is not currently in-use, the most common way to run a command is by binding it to a triggering event, such as a button being pressed by a human operator.</p> <h3 id=button-bindings>Button Bindings<a class=headerlink href=#button-bindings title="Permanent link">&para;</a></h3> <p>Command binding is done through the Trigger class. The command-based HID classes contain factory methods returning a Trigger for a given button.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=kd>private</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>configureBindings</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class=w>      </span><span class=c1>// Button press bindings</span>
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=w>      </span><span class=n>driverController</span><span class=p>.</span><span class=na>a</span><span class=p>().</span><span class=na>onTrue</span><span class=p>(</span>
<a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=w>            </span><span class=n>runOnce</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>))</span>
<a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class=w>      </span><span class=p>);</span>
<a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>
<a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=w>      </span><span class=c1>// While button is held</span>
<a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a><span class=w>      </span><span class=n>driverController</span><span class=p>.</span><span class=na>b</span><span class=p>().</span><span class=na>whileTrue</span><span class=p>(</span>
<a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a><span class=w>            </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=mf>0.75</span><span class=p>))</span>
<a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a><span class=w>      </span><span class=p>);</span>
<a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a>
<a id=__codelineno-19-12 name=__codelineno-19-12 href=#__codelineno-19-12></a><span class=w>      </span><span class=c1>// When button is released</span>
<a id=__codelineno-19-13 name=__codelineno-19-13 href=#__codelineno-19-13></a><span class=w>      </span><span class=n>driverController</span><span class=p>.</span><span class=na>x</span><span class=p>().</span><span class=na>onFalse</span><span class=p>(</span>
<a id=__codelineno-19-14 name=__codelineno-19-14 href=#__codelineno-19-14></a><span class=w>            </span><span class=n>runOnce</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>stopIntake</span><span class=p>())</span>
<a id=__codelineno-19-15 name=__codelineno-19-15 href=#__codelineno-19-15></a><span class=w>      </span><span class=p>);</span>
<a id=__codelineno-19-16 name=__codelineno-19-16 href=#__codelineno-19-16></a>
<a id=__codelineno-19-17 name=__codelineno-19-17 href=#__codelineno-19-17></a><span class=w>      </span><span class=c1>// Toggle command</span>
<a id=__codelineno-19-18 name=__codelineno-19-18 href=#__codelineno-19-18></a><span class=w>      </span><span class=n>driverController</span><span class=p>.</span><span class=na>y</span><span class=p>().</span><span class=na>toggleOnTrue</span><span class=p>(</span>
<a id=__codelineno-19-19 name=__codelineno-19-19 href=#__codelineno-19-19></a><span class=w>            </span><span class=n>run</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>setIntakeSpeed</span><span class=p>(</span><span class=o>-</span><span class=mf>0.75</span><span class=p>))</span>
<a id=__codelineno-19-20 name=__codelineno-19-20 href=#__codelineno-19-20></a><span class=w>      </span><span class=p>);</span>
<a id=__codelineno-19-21 name=__codelineno-19-21 href=#__codelineno-19-21></a><span class=p>}</span>
</code></pre></div> <h3 id=trigger-conditions>Trigger Conditions<a class=headerlink href=#trigger-conditions title="Permanent link">&para;</a></h3> <p>You can also bind commands to custom conditions:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=c1>// Bind to sensor readings (e.g., object detected)</span>
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=k>new</span><span class=w> </span><span class=n>Trigger</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>getIntakeSpeed</span><span class=p>()</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mf>0.5</span><span class=p>)</span>
<a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a><span class=w>      </span><span class=p>.</span><span class=na>onTrue</span><span class=p>(</span><span class=n>runOnce</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>intakeSubsystem</span><span class=p>.</span><span class=na>stopIntake</span><span class=p>()));</span>
<a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a>
<a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a><span class=c1>// Bind to subsystem conditions</span>
<a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a><span class=k>new</span><span class=w> </span><span class=n>Trigger</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=cm>/* some intake condition */</span><span class=w> </span><span class=kc>false</span><span class=p>)</span>
<a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a><span class=w>      </span><span class=p>.</span><span class=na>onTrue</span><span class=p>(</span><span class=n>runOnce</span><span class=p>(()</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;Intake condition met!&quot;</span><span class=p>)));</span>
</code></pre></div> <h3 id=reference-material_4>Reference material<a class=headerlink href=#reference-material_4 title="Permanent link">&para;</a></h3> <ul> <li><a href=https://docs.wpilib.org/en/stable/docs/software/commandbased/binding-commands-to-triggers.html>Binding Commands to Triggers</a></li> </ul> <h2 id=8-the-command-scheduler>8. The Command Scheduler<a class=headerlink href=#8-the-command-scheduler title="Permanent link">&para;</a></h2> <h3 id=how-the-scheduler-works>How the Scheduler Works<a class=headerlink href=#how-the-scheduler-works title="Permanent link">&para;</a></h3> <p>The CommandScheduler is the class responsible for actually running commands. Each iteration (ordinarily once per 20ms), the scheduler polls all registered buttons, schedules commands for execution, and runs all scheduled commands.</p> <h3 id=scheduler-process>Scheduler Process<a class=headerlink href=#scheduler-process title="Permanent link">&para;</a></h3> <p>The scheduler follows this process every 20ms:</p> <ol> <li><strong>Poll Triggers</strong>: Check all registered triggers for state changes</li> <li><strong>Schedule Commands</strong>: Start new commands based on trigger conditions</li> <li><strong>Run Commands</strong>: Call execute() on all active commands</li> <li><strong>Check Completion</strong>: Call isFinished() and end() as needed</li> <li><strong>Resource Management</strong>: Ensure subsystem requirements are respected</li> </ol> <h3 id=resource-management>Resource Management<a class=headerlink href=#resource-management title="Permanent link">&para;</a></h3> <p>Multiple commands can run concurrently, as long as they do not require the same resources on the robot. Resource management is handled on a per-subsystem basis: commands specify which subsystems they interact with, and the scheduler will ensure that no more more than one command requiring a given subsystem is scheduled at a time.</p> <h3 id=reference-material_5>Reference material<a class=headerlink href=#reference-material_5 title="Permanent link">&para;</a></h3> <ul> <li><a href=https://docs.wpilib.org/en/stable/docs/software/commandbased/command-scheduler.html>Command Scheduler</a></li> </ul> <h2 id=9-constants-and-organization>9. Constants and Organization<a class=headerlink href=#9-constants-and-organization title="Permanent link">&para;</a></h2> <h3 id=constants-class>Constants Class<a class=headerlink href=#constants-class title="Permanent link">&para;</a></h3> <p>Organize all your robot's constants in one place in a separate class from your subsystem. This declutters your subsystem and command program.</p> <blockquote> <p><strong>Note:</strong><br> Some teams choose to create a separate <code>Constants</code> class for each subsystem (e.g., <code>DriveConstants</code>, <code>IntakeConstants</code>) instead of grouping all constants in a single file. This can help keep constants closely associated with their respective subsystems and improve maintainability in larger projects.</p> </blockquote> <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=kd>public</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kd>class</span> <span class=nc>Constants</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=w>      </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kd>class</span> <span class=nc>DriveConstants</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=w>            </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>LEFT_MOTOR_PORT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a><span class=w>            </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>RIGHT_MOTOR_PORT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a><span class=w>            </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>DRIVE_SPEED</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.8</span><span class=p>;</span>
<a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a><span class=w>            </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>TURN_SPEED</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.6</span><span class=p>;</span>
<a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a>
<a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a><span class=w>      </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kd>class</span> <span class=nc>IntakeConstants</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-21-10 name=__codelineno-21-10 href=#__codelineno-21-10></a><span class=w>            </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>INTAKE_MOTOR_PORT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<a id=__codelineno-21-11 name=__codelineno-21-11 href=#__codelineno-21-11></a><span class=w>            </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>double</span><span class=w> </span><span class=n>INTAKE_SPEED</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.75</span><span class=p>;</span>
<a id=__codelineno-21-12 name=__codelineno-21-12 href=#__codelineno-21-12></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-21-13 name=__codelineno-21-13 href=#__codelineno-21-13></a>
<a id=__codelineno-21-14 name=__codelineno-21-14 href=#__codelineno-21-14></a><span class=w>      </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kd>class</span> <span class=nc>OIConstants</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-21-15 name=__codelineno-21-15 href=#__codelineno-21-15></a><span class=w>            </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>DRIVER_CONTROLLER_PORT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<a id=__codelineno-21-16 name=__codelineno-21-16 href=#__codelineno-21-16></a><span class=w>            </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kd>final</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>OPERATOR_CONTROLLER_PORT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<a id=__codelineno-21-17 name=__codelineno-21-17 href=#__codelineno-21-17></a><span class=w>      </span><span class=p>}</span>
<a id=__codelineno-21-18 name=__codelineno-21-18 href=#__codelineno-21-18></a><span class=p>}</span>
</code></pre></div> <h3 id=project-organization-tips>Project Organization Tips<a class=headerlink href=#project-organization-tips title="Permanent link">&para;</a></h3> <ol> <li><strong>Group Related Commands</strong>: Create subfolders in the commands directory</li> <li><strong>Use Descriptive Names</strong>: Make your intent clear in class and method names</li> <li><strong>Keep Methods Small</strong>: Break complex operations into smaller, testable pieces</li> <li><strong>Comment Your Code</strong>: Explain the "why" behind your decisions</li> </ol> <h2 id=10-testing-and-debugging>10. Testing and Debugging<a class=headerlink href=#10-testing-and-debugging title="Permanent link">&para;</a></h2> <h3 id=testing-individual-components>Testing Individual Components<a class=headerlink href=#testing-individual-components title="Permanent link">&para;</a></h3> <ol> <li><strong>Test Subsystems</strong>: Use the subsystem's periodic() method for monitoring with Smartdashboard or Advantagekit Logging.</li> <li><strong>Test Commands</strong>: Run commands individually to verify behavior. Use the printline technique shown below for verifying command functionality</li> </ol> <h3 id=common-debugging-techniques>Common Debugging Techniques<a class=headerlink href=#common-debugging-techniques title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=c1>// Add logging to commands</span>
<a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=nd>@Override</span>
<a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>initialize</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=w>      </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&quot;Command started: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>getName</span><span class=p>());</span>
<a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a><span class=p>}</span>
<a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a>
<a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a><span class=c1>// Monitor subsystem state</span>
<a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a><span class=nd>@Override</span>
<a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>periodic</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a><span class=w>      </span><span class=n>SmartDashboard</span><span class=p>.</span><span class=na>putNumber</span><span class=p>(</span><span class=s>&quot;Intake Speed&quot;</span><span class=p>,</span><span class=w> </span><span class=n>intakeMotor</span><span class=p>.</span><span class=na>get</span><span class=p>());</span>
<a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a><span class=p>}</span>
</code></pre></div> <h2 id=11-best-practices-summary>11. Best Practices Summary<a class=headerlink href=#11-best-practices-summary title="Permanent link">&para;</a></h2> <h3 id=design-principles>Design Principles<a class=headerlink href=#design-principles title="Permanent link">&para;</a></h3> <ol> <li><strong>Single Responsibility</strong>: Each class should have one clear purpose</li> <li><strong>Encapsulation</strong>: Hide implementation details within subsystems</li> <li><strong>Dependency Injection</strong>: Pass subsystems to commands through constructors</li> <li><strong>Declarative Programming</strong>: Set up behavior once, let the framework handle execution</li> </ol> <h3 id=code-organization>Code Organization<a class=headerlink href=#code-organization title="Permanent link">&para;</a></h3> <ol> <li><strong>Use the Standard Structure</strong>: Follow the WPILib template organization</li> <li><strong>Keep Constants Organized</strong>: Group related constants together</li> <li><strong>Write Factory Methods</strong>: Create reusable command factories in subsystems</li> <li><strong>Use Descriptive Names</strong>: Make your code self-documenting</li> </ol> <h3 id=example-real-world-project-structure-phantomcatz-2025>Example: Real-World Project Structure (PhantomCatz 2025)<a class=headerlink href=#example-real-world-project-structure-phantomcatz-2025 title="Permanent link">&para;</a></h3> <p>Below is an outline of the <code>frc/robot</code> directory from the referenced project:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a>frc/robot/
<a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a>├── Constants.java
<a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a>├── Main.java
<a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a>├── Robot.java
<a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a>├── RobotContainer.java
<a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a>├── commands/
<a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a>│   ├── auto/
<a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a>│   ├── drive/
<a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a>│   ├── intake/
<a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a>│   └── ... (other command groups)
<a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a>├── subsystems/
<a id=__codelineno-23-12 name=__codelineno-23-12 href=#__codelineno-23-12></a>│   ├── DriveSubsystem.java
<a id=__codelineno-23-13 name=__codelineno-23-13 href=#__codelineno-23-13></a>│   ├── IntakeSubsystem.java
<a id=__codelineno-23-14 name=__codelineno-23-14 href=#__codelineno-23-14></a>│   └── ... (other subsystems)
<a id=__codelineno-23-15 name=__codelineno-23-15 href=#__codelineno-23-15></a>└── util/
<a id=__codelineno-23-16 name=__codelineno-23-16 href=#__codelineno-23-16></a>      └── ... (utility classes)
</code></pre></div> <p><strong>Key Points:</strong> - Commands are grouped by function (e.g., <code>auto</code>, <code>drive</code>, <code>intake</code>). - Subsystems are in their own folder. - Utility code is separated into <code>lib/util</code> and <code>util</code> folders. - Core files (<code>Robot.java</code>, <code>RobotContainer.java</code>, <code>Constants.java</code>) are at the root.</p> <p>This structure helps keep code organized, scalable, and easy to navigate as the robot project grows.</p> <p><strong>Reference:</strong><br> You can view a real-world example of a command-based robot project on GitHub:<br> <a href=https://github.com/PhantomCatz/RobotCode2025-Reefscape/tree/main/SeasonCode2025/src/main/java/frc/robot>PhantomCatz 2025 Robot Code</a></p> <h3 id=testing-strategy>Testing Strategy<a class=headerlink href=#testing-strategy title="Permanent link">&para;</a></h3> <ol> <li><strong>Test Incrementally</strong>: Build and test one component at a time</li> <li><strong>Use Default Commands</strong>: Set up safe default behaviors</li> <li><strong>Handle Edge Cases</strong>: Consider what happens when things go wrong</li> <li><strong>Log Important Events</strong>: Use console output or SmartDashboard for debugging</li> </ol> <h2 id=12-next-steps>12. Next Steps<a class=headerlink href=#12-next-steps title="Permanent link">&para;</a></h2> <p>Once you have a basic command-based robot working, consider exploring:</p> <ul> <li><strong>Advanced Command Compositions</strong>: More complex parallel and sequential operations</li> <li><strong>PID Control</strong>: Closed-loop control for precise movements</li> <li><strong>Path Following</strong>: Autonomous navigation using trajectory generation</li> <li><strong>State Machines</strong>: Managing complex robot behaviors</li> <li><strong>Custom Triggers</strong>: Creating sophisticated activation conditions</li> </ul> <p>The command-based framework is powerful and flexible. Start with simple commands and subsystems, then gradually add complexity as you become more comfortable with the paradigm.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 6, 2025 13:17:30 UTC">August 6, 2025</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 6, 2025 13:17:30 UTC">August 6, 2025</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href=... target=_blank rel=noopener>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.top", "navigation.sections", "navigation.expand", "navigation.tracking"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js></script> <script src=../../../js/pid-simulator.js></script> </body> </html>